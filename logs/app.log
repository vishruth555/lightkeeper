[2025-11-07 11:53:50,919] [INFO] - Started server process [51696]
[2025-11-07 11:53:50,920] [INFO] - Waiting for application startup.
[2025-11-07 11:53:50,920] [INFO] - Starting up lightkeeper-service...
[2025-11-07 11:53:50,945] [INFO] - Connected to MongoDB Successfully
[2025-11-07 11:53:50,945] [INFO] - Application startup complete.
[2025-11-07 11:54:59,304] [INFO] - 127.0.0.1:62553 - "GET / HTTP/1.1" 200
[2025-11-07 11:55:04,132] [INFO] - 127.0.0.1:62563 - "GET /docs HTTP/1.1" 200
[2025-11-07 11:55:04,630] [INFO] - 127.0.0.1:62563 - "GET /openapi.json HTTP/1.1" 200
[2025-11-07 11:59:14,702] [INFO] - 127.0.0.1:62881 - "GET /audits/69022dd34076aa8211308a1b HTTP/1.1" 200
[2025-11-07 15:09:29,810] [INFO] - 127.0.0.1:60903 - "GET / HTTP/1.1" 200
[2025-11-07 15:09:37,061] [INFO] - 127.0.0.1:60926 - "GET / HTTP/1.1" 200
[2025-11-07 15:09:37,700] [INFO] - 127.0.0.1:60926 - "GET / HTTP/1.1" 200
[2025-11-07 15:09:38,305] [INFO] - 127.0.0.1:60926 - "GET / HTTP/1.1" 200
[2025-11-07 15:09:38,811] [INFO] - 127.0.0.1:60926 - "GET / HTTP/1.1" 200
[2025-11-07 15:09:39,255] [INFO] - 127.0.0.1:60926 - "GET / HTTP/1.1" 200
[2025-11-07 15:09:39,753] [INFO] - 127.0.0.1:60926 - "GET / HTTP/1.1" 200
[2025-11-07 15:09:40,056] [INFO] - 127.0.0.1:60926 - "GET / HTTP/1.1" 200
[2025-11-08 12:21:29,674] [INFO] - Shutting down
[2025-11-08 12:21:29,779] [INFO] - Waiting for application shutdown.
[2025-11-08 12:21:29,780] [INFO] - Shutting down lightkeeper-service...
[2025-11-08 12:21:29,781] [INFO] - Application shutdown complete.
[2025-11-08 12:21:29,781] [INFO] - Finished server process [51696]
[2025-11-08 12:21:30,663] [INFO] - Started server process [80383]
[2025-11-08 12:21:30,663] [INFO] - Waiting for application startup.
[2025-11-08 12:21:30,663] [INFO] - Starting up lightkeeper-service...
[2025-11-08 12:21:30,681] [INFO] - Connected to MongoDB Successfully
[2025-11-08 12:21:30,681] [INFO] - Application startup complete.
[2025-11-08 12:22:01,010] [INFO] - Shutting down
[2025-11-08 12:22:01,112] [INFO] - Waiting for application shutdown.
[2025-11-08 12:22:01,113] [INFO] - Shutting down lightkeeper-service...
[2025-11-08 12:22:01,113] [INFO] - Application shutdown complete.
[2025-11-08 12:22:01,113] [INFO] - Finished server process [80383]
[2025-11-08 12:22:01,896] [INFO] - Started server process [80431]
[2025-11-08 12:22:01,896] [INFO] - Waiting for application startup.
[2025-11-08 12:22:01,896] [INFO] - Starting up lightkeeper-service...
[2025-11-08 12:22:01,923] [INFO] - Connected to MongoDB Successfully
[2025-11-08 12:22:01,923] [INFO] - Application startup complete.
[2025-11-08 12:23:29,905] [INFO] - Shutting down
[2025-11-08 12:23:30,009] [INFO] - Waiting for application shutdown.
[2025-11-08 12:23:30,009] [INFO] - Shutting down lightkeeper-service...
[2025-11-08 12:23:30,009] [INFO] - Application shutdown complete.
[2025-11-08 12:23:30,009] [INFO] - Finished server process [80431]
[2025-11-08 12:23:30,859] [INFO] - Started server process [80631]
[2025-11-08 12:23:30,859] [INFO] - Waiting for application startup.
[2025-11-08 12:23:30,859] [INFO] - Starting up lightkeeper-service...
[2025-11-08 12:23:30,870] [INFO] - Connected to MongoDB Successfully
[2025-11-08 12:23:30,870] [INFO] - Application startup complete.
[2025-11-08 12:23:47,140] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 12:24:10,803] [INFO] - saved audit for https://www.google.com/
[2025-11-08 12:24:10,807] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 12:24:28,119] [INFO] - saved audit for https://www.google.com/
[2025-11-08 12:24:28,119] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 12:24:45,743] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 12:24:45,744] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 12:25:44,825] [INFO] - 127.0.0.1:53933 - "GET /docs HTTP/1.1" 200
[2025-11-08 12:25:44,826] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 12:25:44,827] [INFO] - 127.0.0.1:53625 - "POST /run HTTP/1.1" 200
[2025-11-08 12:25:45,007] [INFO] - 127.0.0.1:53933 - "GET /openapi.json HTTP/1.1" 200
[2025-11-08 12:51:36,732] [INFO] - 127.0.0.1:54902 - "GET / HTTP/1.1" 200
[2025-11-08 12:52:09,689] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 12:52:25,853] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 12:52:44,669] [INFO] - saved audit for https://www.google.com/
[2025-11-08 12:52:44,670] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 12:53:01,977] [INFO] - saved audit for https://www.google.com/
[2025-11-08 12:53:01,978] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 12:53:18,281] [INFO] - saved audit for https://www.google.com/
[2025-11-08 12:53:18,281] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 12:53:38,482] [INFO] - saved audit for https://www.google.com/
[2025-11-08 12:53:38,483] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 12:53:56,064] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 12:53:56,065] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 12:54:12,770] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 12:54:12,770] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 12:54:26,707] [INFO] - 127.0.0.1:54979 - "POST /run HTTP/1.1" 500
[2025-11-08 12:54:26,707] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/lighthouse.py", line 37, in run_lighthouse
    subprocess.run(command, check=True)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/subprocess.py", line 571, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-c0d012ac-38ee-4796-93dc-f3bafffb2ef9.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 24, in run_audits
    raw = run_lighthouse(page)
          ^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/lighthouse.py", line 42, in run_lighthouse
    logger.error("lighthouse command did not work, find details here -> ", e)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1568, in error
    self._log(ERROR, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1684, in _log
    self.handle(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1700, in handle
    self.callHandlers(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1762, in callHandlers
    hdlr.handle(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1028, in handle
    self.emit(record)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/core/slack_handler.py", line 13, in emit
    text = f"üö® Error alert from lightkeeper service \n\nüìÑ File:{record.filename}\n```‚ö†Ô∏è Error:{record.message}```\nüïí Timestamp:{record.asctime}"
                                                                                                 ^^^^^^^^^^^^^^
AttributeError: 'LogRecord' object has no attribute 'message'
[2025-11-08 12:54:27,356] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:04:27,379] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 13:04:43,851] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:04:43,852] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 13:05:01,562] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:05:01,563] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 13:06:00,216] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:06:00,216] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 13:06:16,951] [INFO] - 127.0.0.1:56001 - "POST /run HTTP/1.1" 500
[2025-11-08 13:06:16,951] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/lighthouse.py", line 37, in run_lighthouse
    subprocess.run(command, check=True)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/subprocess.py", line 571, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-d51701d9-6090-4ee6-9a43-d91560511d96.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 24, in run_audits
    raw = run_lighthouse(page)
          ^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/lighthouse.py", line 42, in run_lighthouse
    logger.error("lighthouse command did not work, find details here -> ", e)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1568, in error
    self._log(ERROR, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1684, in _log
    self.handle(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1700, in handle
    self.callHandlers(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1762, in callHandlers
    hdlr.handle(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1028, in handle
    self.emit(record)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/core/slack_handler.py", line 13, in emit
    text = f"üö® Error alert from lightkeeper service \n\nüìÑ File:{record.filename}\n```‚ö†Ô∏è Error:{record.message}```\nüïí Timestamp:{record.asctime}"
                                                                                                 ^^^^^^^^^^^^^^
AttributeError: 'LogRecord' object has no attribute 'message'
[2025-11-08 13:16:17,538] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 13:16:37,754] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:16:37,754] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 13:16:54,998] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:16:54,999] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 13:17:11,561] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:17:11,561] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 13:17:28,779] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:17:28,781] [INFO] - 127.0.0.1:56819 - "POST /run HTTP/1.1" 200
[2025-11-08 13:27:28,817] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 13:27:46,778] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:27:46,778] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 13:28:04,552] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:28:04,553] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 13:28:21,203] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:28:21,203] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 13:28:38,119] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:28:38,120] [INFO] - 127.0.0.1:57595 - "POST /run HTTP/1.1" 200
[2025-11-08 13:38:38,147] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 13:38:56,246] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:38:56,246] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 13:39:13,863] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:39:13,864] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 13:39:31,992] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:39:31,993] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 13:39:49,146] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:39:49,147] [INFO] - 127.0.0.1:58395 - "POST /run HTTP/1.1" 200
[2025-11-08 13:49:49,173] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 13:50:08,562] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:50:08,562] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 13:50:24,515] [INFO] - saved audit for https://www.google.com/
[2025-11-08 13:50:24,516] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 13:50:41,417] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:50:41,417] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 13:50:58,298] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 13:50:58,300] [INFO] - 127.0.0.1:59319 - "POST /run HTTP/1.1" 200
[2025-11-08 14:00:32,092] [INFO] - Shutting down
[2025-11-08 14:00:32,197] [INFO] - Waiting for application shutdown.
[2025-11-08 14:00:32,198] [INFO] - Shutting down lightkeeper-service...
[2025-11-08 14:00:32,198] [INFO] - Application shutdown complete.
[2025-11-08 14:00:32,198] [INFO] - Finished server process [80631]
[2025-11-08 14:00:33,166] [INFO] - Started server process [90131]
[2025-11-08 14:00:33,166] [INFO] - Waiting for application startup.
[2025-11-08 14:00:33,166] [INFO] - Starting up lightkeeper-service...
[2025-11-08 14:00:33,181] [INFO] - Connected to MongoDB Successfully
[2025-11-08 14:00:33,181] [INFO] - Application startup complete.
[2025-11-08 14:00:58,278] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 14:01:14,450] [INFO] - Shutting down
[2025-11-08 14:01:14,450] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:01:14,450] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 14:01:32,070] [INFO] - Waiting for connections to close. (CTRL+C to force quit)
[2025-11-08 14:01:32,071] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:01:32,071] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 14:01:48,759] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:01:48,760] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 14:02:02,939] [ERROR] - lighthouse command did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-98e4e936-667b-4f94-ba55-d5e96642ba33.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-08 14:02:03,630] [INFO] - 127.0.0.1:60090 - "POST /run HTTP/1.1" 500
[2025-11-08 14:02:03,631] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 14:02:04,114] [INFO] - Waiting for application shutdown.
[2025-11-08 14:02:04,114] [INFO] - Shutting down lightkeeper-service...
[2025-11-08 14:02:04,114] [INFO] - Application shutdown complete.
[2025-11-08 14:02:04,114] [INFO] - Finished server process [90131]
[2025-11-08 14:02:04,779] [INFO] - Started server process [90474]
[2025-11-08 14:02:04,779] [INFO] - Waiting for application startup.
[2025-11-08 14:02:04,780] [INFO] - Starting up lightkeeper-service...
[2025-11-08 14:02:04,790] [INFO] - Connected to MongoDB Successfully
[2025-11-08 14:02:04,790] [INFO] - Application startup complete.
[2025-11-08 14:12:04,118] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 14:12:21,780] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:12:21,781] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 14:12:38,564] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:12:38,565] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 14:12:56,441] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:12:56,441] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 14:13:14,599] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:13:14,600] [INFO] - 127.0.0.1:60989 - "POST /run HTTP/1.1" 200
[2025-11-08 14:18:44,296] [INFO] - 127.0.0.1:61571 - "GET /pages/ HTTP/1.1" 200
[2025-11-08 14:19:00,800] [INFO] - 127.0.0.1:61593 - "GET /audits/69022dd34076aa8211308a1b HTTP/1.1" 200
[2025-11-08 14:23:14,639] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 14:23:33,648] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:23:33,648] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 14:23:51,687] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:23:51,688] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 14:24:09,300] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:24:09,301] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 14:24:26,853] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:24:26,855] [INFO] - 127.0.0.1:61974 - "POST /run HTTP/1.1" 200
[2025-11-08 14:34:26,910] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 14:34:45,379] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:34:45,380] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 14:35:03,196] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:35:03,196] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 14:35:20,157] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:35:20,157] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 14:35:37,857] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:35:37,859] [INFO] - 127.0.0.1:62969 - "POST /run HTTP/1.1" 200
[2025-11-08 14:47:16,513] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 14:47:35,097] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:47:35,097] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 14:47:52,406] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:47:52,406] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 14:48:08,906] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:48:08,907] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 14:48:26,802] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:48:26,803] [INFO] - 127.0.0.1:63995 - "POST /run HTTP/1.1" 200
[2025-11-08 14:58:26,844] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 14:58:45,013] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:58:45,014] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 14:59:03,440] [INFO] - saved audit for https://www.google.com/
[2025-11-08 14:59:03,441] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 14:59:19,967] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:59:19,968] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 14:59:37,277] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 14:59:37,279] [INFO] - 127.0.0.1:65142 - "POST /run HTTP/1.1" 200
[2025-11-08 15:10:19,335] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 15:10:35,729] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:10:35,730] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 15:10:53,331] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:10:53,332] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 15:11:10,504] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:11:10,504] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 15:11:27,005] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:11:27,006] [INFO] - 127.0.0.1:49780 - "POST /run HTTP/1.1" 200
[2025-11-08 15:21:27,017] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 15:21:45,538] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:21:45,538] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 15:22:02,709] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:22:02,710] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 15:22:20,753] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:22:20,753] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 15:22:38,612] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:22:38,614] [INFO] - 127.0.0.1:50593 - "POST /run HTTP/1.1" 200
[2025-11-08 15:32:38,649] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 15:32:56,663] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:32:56,663] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 15:33:14,607] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:33:14,608] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 15:33:30,948] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:33:30,949] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 15:33:47,717] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:33:47,718] [INFO] - 127.0.0.1:51409 - "POST /run HTTP/1.1" 200
[2025-11-08 15:43:47,746] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 15:44:08,465] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:44:08,466] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 15:44:27,239] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:44:27,239] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 15:44:44,573] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:44:44,574] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 15:45:01,194] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:45:01,195] [INFO] - 127.0.0.1:52226 - "POST /run HTTP/1.1" 200
[2025-11-08 15:55:01,194] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 15:55:19,893] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:55:19,893] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 15:55:37,162] [INFO] - saved audit for https://www.google.com/
[2025-11-08 15:55:37,164] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 15:55:53,613] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:55:53,614] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 15:56:11,040] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 15:56:11,042] [INFO] - 127.0.0.1:53075 - "POST /run HTTP/1.1" 200
[2025-11-08 16:06:11,080] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 16:06:28,472] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:06:28,473] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 16:06:46,583] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:06:46,584] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 16:07:02,850] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 16:07:02,851] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 16:07:20,842] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 16:07:20,844] [INFO] - 127.0.0.1:53933 - "POST /run HTTP/1.1" 200
[2025-11-08 16:17:20,871] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 16:17:39,350] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:17:39,351] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 16:17:53,502] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-f67062af-59a2-4c16-be4b-21924cfdd655.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-08 16:17:54,062] [INFO] - 127.0.0.1:54780 - "POST /run HTTP/1.1" 500
[2025-11-08 16:17:54,062] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 16:27:54,535] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 16:28:14,053] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:28:14,053] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 16:28:30,018] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:28:30,019] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 16:28:46,858] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 16:28:46,859] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 16:29:03,785] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 16:29:03,787] [INFO] - 127.0.0.1:55550 - "POST /run HTTP/1.1" 200
[2025-11-08 16:39:03,795] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 16:39:22,131] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:39:22,132] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 16:39:38,870] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:39:38,871] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 16:39:55,390] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 16:39:55,391] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 16:40:12,013] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 16:40:12,015] [INFO] - 127.0.0.1:56405 - "POST /run HTTP/1.1" 200
[2025-11-08 16:50:12,025] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 16:50:30,227] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:50:30,227] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 16:50:47,950] [INFO] - saved audit for https://www.google.com/
[2025-11-08 16:50:47,951] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 16:51:05,240] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 16:51:05,240] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 16:51:22,228] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 16:51:22,230] [INFO] - 127.0.0.1:57179 - "POST /run HTTP/1.1" 200
[2025-11-08 17:01:22,252] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 17:01:40,750] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:01:40,751] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 17:01:57,938] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:01:57,939] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 17:02:14,437] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:02:14,438] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 17:02:31,299] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:02:31,301] [INFO] - 127.0.0.1:57937 - "POST /run HTTP/1.1" 200
[2025-11-08 17:12:31,315] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 17:12:49,490] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:12:49,491] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 17:13:06,632] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:13:06,633] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 17:13:23,357] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:13:23,358] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 17:13:39,709] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:13:39,710] [INFO] - 127.0.0.1:58695 - "POST /run HTTP/1.1" 200
[2025-11-08 17:23:39,718] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 17:23:58,131] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:23:58,132] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 17:24:15,503] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:24:15,505] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 17:24:32,570] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:24:32,571] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 17:24:49,950] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:24:49,951] [INFO] - 127.0.0.1:59508 - "POST /run HTTP/1.1" 200
[2025-11-08 17:34:50,001] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 17:35:07,352] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:35:07,353] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 17:35:21,247] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-8269ac82-2413-4dc0-b8c4-678a159c197a.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-08 17:35:21,812] [INFO] - 127.0.0.1:60257 - "POST /run HTTP/1.1" 500
[2025-11-08 17:35:21,813] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 17:45:22,285] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 17:45:40,823] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:45:40,824] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 17:45:58,120] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:45:58,122] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 17:46:15,582] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:46:15,582] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 17:46:33,095] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:46:33,097] [INFO] - 127.0.0.1:60944 - "POST /run HTTP/1.1" 200
[2025-11-08 17:56:33,139] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 17:56:50,925] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:56:50,925] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 17:57:08,476] [INFO] - saved audit for https://www.google.com/
[2025-11-08 17:57:08,477] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 17:57:26,424] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:57:26,426] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 17:58:24,892] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 17:58:24,893] [INFO] - 127.0.0.1:61755 - "POST /run HTTP/1.1" 200
[2025-11-08 18:08:24,941] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 18:08:42,809] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:08:42,809] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 18:08:59,812] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:08:59,813] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 18:09:16,840] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:09:16,841] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 18:09:34,073] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:09:34,074] [INFO] - 127.0.0.1:62589 - "POST /run HTTP/1.1" 200
[2025-11-08 18:19:34,129] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 18:19:54,843] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:19:54,844] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 18:20:12,280] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:20:12,280] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 18:20:29,177] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:20:29,178] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 18:20:46,423] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:20:46,426] [INFO] - 127.0.0.1:63347 - "POST /run HTTP/1.1" 200
[2025-11-08 18:30:46,453] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 18:31:05,415] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:31:05,416] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 18:31:23,465] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:31:23,466] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 18:31:41,316] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:31:41,317] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 18:31:58,285] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:31:58,286] [INFO] - 127.0.0.1:64118 - "POST /run HTTP/1.1" 200
[2025-11-08 18:41:58,340] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 18:42:17,803] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:42:17,804] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 18:42:35,817] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:42:35,818] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 18:42:53,061] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:42:53,062] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 18:43:23,594] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:43:23,595] [INFO] - 127.0.0.1:64914 - "POST /run HTTP/1.1" 200
[2025-11-08 18:53:23,636] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 18:53:44,784] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:53:44,785] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 18:54:02,737] [INFO] - saved audit for https://www.google.com/
[2025-11-08 18:54:02,738] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 18:54:19,783] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:54:19,784] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 18:54:37,486] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 18:54:37,488] [INFO] - 127.0.0.1:49389 - "POST /run HTTP/1.1" 200
[2025-11-08 19:04:37,514] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 19:04:56,226] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:04:56,226] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 19:05:10,517] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-39e7e561-22cf-4f9f-a2fc-a6bfa762c737.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-08 19:05:11,398] [INFO] - 127.0.0.1:50191 - "POST /run HTTP/1.1" 500
[2025-11-08 19:05:11,398] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 19:15:11,920] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 19:15:32,935] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:15:32,935] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 19:15:47,488] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-4e9bf1ac-a458-46c5-bfde-c1bbe618cbfd.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-08 19:15:48,135] [INFO] - 127.0.0.1:50876 - "POST /run HTTP/1.1" 500
[2025-11-08 19:15:48,136] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 19:25:48,721] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 19:26:07,638] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:26:07,638] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 19:26:25,628] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:26:25,629] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 19:26:44,333] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 19:26:44,334] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 19:27:06,934] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 19:27:06,936] [INFO] - 127.0.0.1:51597 - "POST /run HTTP/1.1" 200
[2025-11-08 19:37:06,965] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 19:37:24,940] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:37:24,940] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 19:37:42,866] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:37:42,868] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 19:38:00,440] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 19:38:00,441] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 19:38:18,224] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 19:38:18,226] [INFO] - 127.0.0.1:52437 - "POST /run HTTP/1.1" 200
[2025-11-08 19:48:18,255] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 19:48:36,978] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:48:36,978] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 19:48:55,075] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:48:55,076] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 19:49:13,104] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 19:49:13,105] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 19:49:30,669] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 19:49:30,670] [INFO] - 127.0.0.1:53219 - "POST /run HTTP/1.1" 200
[2025-11-08 19:59:30,676] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 19:59:49,799] [INFO] - saved audit for https://www.google.com/
[2025-11-08 19:59:49,799] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 20:00:08,144] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:00:08,145] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 20:00:25,625] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:00:25,626] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 20:00:44,101] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:00:44,103] [INFO] - 127.0.0.1:54014 - "POST /run HTTP/1.1" 200
[2025-11-08 20:10:44,130] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 20:11:02,893] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:11:02,893] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 20:11:20,315] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:11:20,316] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 20:12:18,959] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:12:18,960] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 20:12:37,451] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:12:37,453] [INFO] - 127.0.0.1:54769 - "POST /run HTTP/1.1" 200
[2025-11-08 20:22:37,481] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 20:22:58,622] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:22:58,623] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 20:23:17,604] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:23:17,605] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 20:23:36,176] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:23:36,177] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 20:23:53,849] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:23:53,850] [INFO] - 127.0.0.1:55607 - "POST /run HTTP/1.1" 200
[2025-11-08 20:33:53,876] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 20:34:13,381] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:34:13,381] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 20:34:32,608] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:34:32,609] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 20:34:49,100] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:34:49,101] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 20:35:06,534] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:35:06,536] [INFO] - 127.0.0.1:56346 - "POST /run HTTP/1.1" 200
[2025-11-08 20:45:06,570] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 20:45:27,267] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:45:27,267] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 20:45:42,621] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-278fb9e1-7874-4e9b-9ea2-1b5ef275f9cb.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-08 20:45:43,243] [INFO] - 127.0.0.1:57136 - "POST /run HTTP/1.1" 500
[2025-11-08 20:45:43,244] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 20:55:43,831] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 20:56:04,236] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:56:04,236] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 20:56:23,410] [INFO] - saved audit for https://www.google.com/
[2025-11-08 20:56:23,411] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 20:56:40,913] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:56:40,913] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 20:56:58,729] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 20:56:58,731] [INFO] - 127.0.0.1:57840 - "POST /run HTTP/1.1" 200
[2025-11-08 21:06:58,758] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 21:07:18,549] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:07:18,550] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 21:07:37,180] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:07:37,180] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 21:07:54,334] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 21:07:54,334] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 21:08:12,343] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 21:08:12,344] [INFO] - 127.0.0.1:58586 - "POST /run HTTP/1.1" 200
[2025-11-08 21:18:12,370] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 21:18:30,764] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:18:30,765] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 21:18:48,822] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:18:48,823] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 21:19:05,475] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 21:19:05,476] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 21:19:23,168] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 21:19:23,169] [INFO] - 127.0.0.1:59379 - "POST /run HTTP/1.1" 200
[2025-11-08 21:29:23,195] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 21:29:41,505] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:29:41,506] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 21:29:59,212] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:29:59,212] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 21:30:17,031] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 21:30:17,032] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 21:30:34,635] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 21:30:34,637] [INFO] - 127.0.0.1:60168 - "POST /run HTTP/1.1" 200
[2025-11-08 21:40:34,665] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 21:40:52,878] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:40:52,878] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 21:41:10,629] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:41:10,630] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 21:41:27,786] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 21:41:27,787] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 21:41:44,924] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 21:41:44,926] [INFO] - 127.0.0.1:60909 - "POST /run HTTP/1.1" 200
[2025-11-08 21:51:44,953] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 21:52:05,740] [INFO] - saved audit for https://www.google.com/
[2025-11-08 21:52:05,740] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 21:52:19,722] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-3e42e216-ec2c-45d3-a752-5b1424b4f722.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-08 21:52:20,311] [INFO] - 127.0.0.1:61808 - "POST /run HTTP/1.1" 500
[2025-11-08 21:52:20,312] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 22:02:20,829] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 22:02:39,534] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:02:39,534] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 22:02:56,941] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:02:56,942] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 22:03:14,226] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:03:14,227] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 22:03:31,365] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:03:31,367] [INFO] - 127.0.0.1:62440 - "POST /run HTTP/1.1" 200
[2025-11-08 22:13:31,393] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 22:13:49,534] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:13:49,535] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 22:14:06,903] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:14:06,904] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 22:14:24,747] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:14:24,748] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 22:14:42,067] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:14:42,070] [INFO] - 127.0.0.1:63188 - "POST /run HTTP/1.1" 200
[2025-11-08 22:24:42,102] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 22:24:59,524] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:24:59,524] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 22:25:16,351] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:25:16,353] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 22:25:34,117] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:25:34,118] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 22:25:51,889] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:25:51,891] [INFO] - 127.0.0.1:63986 - "POST /run HTTP/1.1" 200
[2025-11-08 22:35:51,917] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 22:36:11,701] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:36:11,701] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 22:36:29,265] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:36:29,266] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 22:36:46,280] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:36:46,281] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 22:37:00,190] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-6c196097-1b2d-4417-b1d1-bd5f884949c7.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-08 22:37:00,864] [INFO] - 127.0.0.1:64699 - "POST /run HTTP/1.1" 500
[2025-11-08 22:37:00,865] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 22:47:01,408] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 22:47:20,801] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:47:20,801] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 22:47:38,085] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:47:38,087] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 22:47:54,786] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:47:54,788] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 22:48:13,190] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:48:13,192] [INFO] - 127.0.0.1:65491 - "POST /run HTTP/1.1" 200
[2025-11-08 22:58:13,222] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 22:58:31,249] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:58:31,249] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 22:58:48,158] [INFO] - saved audit for https://www.google.com/
[2025-11-08 22:58:48,159] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 22:59:05,123] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:59:05,124] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 22:59:22,889] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 22:59:22,891] [INFO] - 127.0.0.1:49902 - "POST /run HTTP/1.1" 200
[2025-11-08 23:09:22,924] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 23:09:40,878] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:09:40,878] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 23:09:58,982] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:09:58,984] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 23:10:16,549] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 23:10:16,549] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 23:10:33,809] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 23:10:33,810] [INFO] - 127.0.0.1:50665 - "POST /run HTTP/1.1" 200
[2025-11-08 23:20:33,798] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 23:20:53,006] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:20:53,006] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 23:21:10,993] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:21:10,994] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 23:21:28,812] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 23:21:28,813] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 23:21:46,431] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 23:21:46,433] [INFO] - 127.0.0.1:51430 - "POST /run HTTP/1.1" 200
[2025-11-08 23:31:46,419] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 23:32:05,750] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:32:05,751] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 23:32:19,288] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-4d4351ad-8bf5-464a-bf2b-7060bb32af9e.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-08 23:32:20,001] [INFO] - 127.0.0.1:52181 - "POST /run HTTP/1.1" 500
[2025-11-08 23:32:20,002] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-08 23:42:20,567] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 23:42:38,259] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:42:38,260] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 23:42:56,163] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:42:56,163] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 23:43:13,442] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 23:43:13,443] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 23:44:12,223] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 23:44:12,224] [INFO] - 127.0.0.1:52861 - "POST /run HTTP/1.1" 200
[2025-11-08 23:54:12,246] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-08 23:54:29,919] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:54:29,920] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-08 23:54:47,832] [INFO] - saved audit for https://www.google.com/
[2025-11-08 23:54:47,833] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-08 23:55:06,509] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 23:55:06,510] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-08 23:55:25,070] [INFO] - saved audit for https://chatgpt.com/
[2025-11-08 23:55:25,072] [INFO] - 127.0.0.1:53746 - "POST /run HTTP/1.1" 200
[2025-11-09 00:05:25,091] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 00:05:44,512] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:05:44,512] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 00:06:01,991] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:06:01,991] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 00:06:19,929] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:06:19,930] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 00:06:37,829] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:06:37,831] [INFO] - 127.0.0.1:54472 - "POST /run HTTP/1.1" 200
[2025-11-09 00:16:37,848] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 00:16:59,235] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:16:59,235] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 00:17:17,406] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:17:17,408] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 00:17:34,613] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:17:34,614] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 00:17:52,843] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:17:52,845] [INFO] - 127.0.0.1:55230 - "POST /run HTTP/1.1" 200
[2025-11-09 00:27:52,865] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 00:28:11,884] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:28:11,884] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 00:28:29,922] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:28:29,924] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 00:28:47,775] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:28:47,776] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 00:29:05,667] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:29:05,669] [INFO] - 127.0.0.1:56017 - "POST /run HTTP/1.1" 200
[2025-11-09 00:39:05,684] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 00:39:26,534] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:39:26,535] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 00:39:44,067] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:39:44,068] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 00:40:01,598] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:40:01,599] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 00:40:20,234] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:40:20,236] [INFO] - 127.0.0.1:56785 - "POST /run HTTP/1.1" 200
[2025-11-09 00:50:20,283] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 00:50:39,164] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:50:39,165] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 00:50:56,700] [INFO] - saved audit for https://www.google.com/
[2025-11-09 00:50:56,702] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 00:51:15,526] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:51:15,527] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 00:51:32,624] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 00:51:32,626] [INFO] - 127.0.0.1:57568 - "POST /run HTTP/1.1" 200
[2025-11-09 01:01:32,657] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 01:01:50,389] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:01:50,389] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 01:02:04,587] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-acfc59b2-b0b9-4942-933f-f4ab1beee3d4.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 01:02:05,307] [INFO] - 127.0.0.1:58292 - "POST /run HTTP/1.1" 500
[2025-11-09 01:02:05,308] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 01:12:05,935] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 01:12:26,600] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:12:26,601] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 01:12:43,566] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:12:43,567] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 01:13:02,521] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:13:02,522] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 01:13:20,446] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:13:20,448] [INFO] - 127.0.0.1:58963 - "POST /run HTTP/1.1" 200
[2025-11-09 01:23:20,465] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 01:23:40,154] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:23:40,154] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 01:23:57,713] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:23:57,715] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 01:24:15,674] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:24:15,675] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 01:24:30,354] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-fd231fc6-7cef-4e91-ab76-7e67a7a184d7.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-09 01:24:31,053] [INFO] - 127.0.0.1:59761 - "POST /run HTTP/1.1" 500
[2025-11-09 01:24:31,053] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 01:34:31,639] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 01:34:51,814] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:34:51,815] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 01:35:09,905] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:35:09,906] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 01:35:28,283] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:35:28,284] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 01:36:27,904] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:36:27,905] [INFO] - 127.0.0.1:60504 - "POST /run HTTP/1.1" 200
[2025-11-09 01:46:27,927] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 01:46:46,893] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:46:46,894] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 01:47:05,122] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:47:05,124] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 01:47:23,180] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:47:23,181] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 01:47:41,640] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:47:41,642] [INFO] - 127.0.0.1:61336 - "POST /run HTTP/1.1" 200
[2025-11-09 01:57:41,660] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 01:57:59,856] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:57:59,857] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 01:58:17,985] [INFO] - saved audit for https://www.google.com/
[2025-11-09 01:58:17,987] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 01:58:36,002] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:58:36,004] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 01:58:54,233] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 01:58:54,237] [INFO] - 127.0.0.1:62143 - "POST /run HTTP/1.1" 200
[2025-11-09 02:08:54,268] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 02:09:12,555] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:09:12,555] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 02:09:29,851] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:09:29,853] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 02:09:47,771] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:09:47,771] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 02:10:05,897] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:10:05,898] [INFO] - 127.0.0.1:62891 - "POST /run HTTP/1.1" 200
[2025-11-09 02:20:05,922] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 02:20:24,344] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:20:24,345] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 02:20:42,059] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:20:42,060] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 02:21:00,058] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:21:00,059] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 02:21:17,953] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:21:17,955] [INFO] - 127.0.0.1:63652 - "POST /run HTTP/1.1" 200
[2025-11-09 02:31:17,995] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 02:31:38,553] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:31:38,553] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 02:31:55,996] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:31:55,997] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 02:32:15,297] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:32:15,298] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 02:32:33,814] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:32:33,816] [INFO] - 127.0.0.1:64393 - "POST /run HTTP/1.1" 200
[2025-11-09 02:42:33,803] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 02:42:54,753] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:42:54,753] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 02:43:13,049] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:43:13,050] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 02:43:31,370] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:43:31,372] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 02:43:50,659] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:43:50,661] [INFO] - 127.0.0.1:65154 - "POST /run HTTP/1.1" 200
[2025-11-09 02:53:50,738] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 02:54:11,607] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:54:11,607] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 02:54:29,554] [INFO] - saved audit for https://www.google.com/
[2025-11-09 02:54:29,555] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 02:54:48,156] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:54:48,157] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 02:55:06,261] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 02:55:06,261] [INFO] - 127.0.0.1:49595 - "POST /run HTTP/1.1" 200
[2025-11-09 03:05:06,286] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 03:05:24,184] [INFO] - saved audit for https://www.google.com/
[2025-11-09 03:05:24,184] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 03:05:41,594] [INFO] - saved audit for https://www.google.com/
[2025-11-09 03:05:41,595] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 03:06:00,472] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 03:06:00,472] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 03:06:15,645] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-14889baf-beb5-4605-91fb-a35807cbe026.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-09 03:06:16,564] [INFO] - 127.0.0.1:50333 - "POST /run HTTP/1.1" 500
[2025-11-09 03:06:16,565] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 03:16:17,181] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 03:16:36,261] [INFO] - saved audit for https://www.google.com/
[2025-11-09 03:16:36,261] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 03:16:54,319] [INFO] - saved audit for https://www.google.com/
[2025-11-09 03:16:54,320] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 03:17:12,492] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 03:17:12,493] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 03:17:27,463] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-1c3bcac9-9f07-47cf-a25e-09f545e9a8fb.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-09 03:17:28,170] [INFO] - 127.0.0.1:51132 - "POST /run HTTP/1.1" 500
[2025-11-09 03:17:28,171] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 03:27:28,816] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 03:27:49,059] [INFO] - saved audit for https://www.google.com/
[2025-11-09 03:27:49,059] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 03:28:07,144] [INFO] - saved audit for https://www.google.com/
[2025-11-09 03:28:07,145] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 03:28:25,071] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 03:28:25,072] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 03:28:43,212] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 03:28:43,214] [INFO] - 127.0.0.1:51895 - "POST /run HTTP/1.1" 200
[2025-11-09 03:38:43,200] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 03:39:01,526] [INFO] - saved audit for https://www.google.com/
[2025-11-09 03:39:01,527] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 03:39:16,277] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-d2fec643-7900-42a0-9fc1-9d56b0021dc1.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 03:39:16,994] [INFO] - 127.0.0.1:52662 - "POST /run HTTP/1.1" 500
[2025-11-09 03:39:16,995] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 03:49:17,615] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 03:49:36,937] [INFO] - saved audit for https://www.google.com/
[2025-11-09 03:49:36,937] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 03:49:51,925] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-23b759ff-b42d-4e76-ad20-2c216c3c34eb.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 03:49:52,659] [INFO] - 127.0.0.1:53357 - "POST /run HTTP/1.1" 500
[2025-11-09 03:49:52,660] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 03:59:53,254] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 04:00:11,697] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:00:11,700] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 04:00:29,495] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:00:29,496] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 04:00:47,369] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:00:47,370] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 04:01:04,700] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:01:04,702] [INFO] - 127.0.0.1:54021 - "POST /run HTTP/1.1" 200
[2025-11-09 04:11:04,689] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 04:11:23,737] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:11:23,738] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 04:11:41,370] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:11:41,372] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 04:11:59,499] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:11:59,499] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 04:12:17,303] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:12:17,305] [INFO] - 127.0.0.1:54820 - "POST /run HTTP/1.1" 200
[2025-11-09 04:22:17,367] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 04:22:36,632] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:22:36,633] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 04:22:54,587] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:22:54,589] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 04:23:12,347] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:23:12,348] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 04:23:29,840] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:23:29,841] [INFO] - 127.0.0.1:55599 - "POST /run HTTP/1.1" 200
[2025-11-09 04:33:29,867] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 04:33:48,301] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:33:48,302] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 04:34:03,002] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-cf063f18-5e05-4b8e-a5a0-40261b6c310f.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 04:34:03,816] [INFO] - 127.0.0.1:56351 - "POST /run HTTP/1.1" 500
[2025-11-09 04:34:03,817] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 04:44:04,461] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 04:44:24,030] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:44:24,031] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 04:44:42,243] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:44:42,244] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 04:44:59,744] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:44:59,745] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 04:45:17,182] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:45:17,184] [INFO] - 127.0.0.1:57042 - "POST /run HTTP/1.1" 200
[2025-11-09 04:55:17,258] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 04:55:38,404] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:55:38,405] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 04:55:55,954] [INFO] - saved audit for https://www.google.com/
[2025-11-09 04:55:55,955] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 04:56:14,897] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:56:14,899] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 04:56:33,009] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 04:56:33,011] [INFO] - 127.0.0.1:57835 - "POST /run HTTP/1.1" 200
[2025-11-09 05:06:33,053] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 05:06:51,182] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:06:51,182] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 05:07:08,600] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:07:08,602] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 05:07:27,652] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 05:07:27,653] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 05:07:45,887] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 05:07:45,889] [INFO] - 127.0.0.1:58611 - "POST /run HTTP/1.1" 200
[2025-11-09 05:17:45,918] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 05:18:06,963] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:18:06,963] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 05:18:24,514] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:18:24,516] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 05:18:45,523] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 05:18:45,524] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 05:19:05,348] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 05:19:05,350] [INFO] - 127.0.0.1:59384 - "POST /run HTTP/1.1" 200
[2025-11-09 05:29:05,392] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 05:29:23,338] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:29:23,338] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 05:29:40,770] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:29:40,772] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 05:29:58,354] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 05:29:58,356] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 05:30:16,381] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 05:30:16,383] [INFO] - 127.0.0.1:60189 - "POST /run HTTP/1.1" 200
[2025-11-09 05:40:16,393] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 05:40:34,079] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:40:34,079] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 05:40:47,556] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-8bccb76e-073a-4c85-80a6-53ede1f9d1bc.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 05:40:48,198] [INFO] - 127.0.0.1:60993 - "POST /run HTTP/1.1" 500
[2025-11-09 05:40:48,199] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 05:50:48,704] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 05:51:09,182] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:51:09,182] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 05:51:25,739] [INFO] - saved audit for https://www.google.com/
[2025-11-09 05:51:25,740] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 05:51:43,944] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 05:51:43,945] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 05:52:00,607] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 05:52:00,608] [INFO] - 127.0.0.1:61817 - "POST /run HTTP/1.1" 200
[2025-11-09 06:02:00,636] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 06:02:19,896] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:02:19,896] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 06:02:37,244] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:02:37,246] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 06:02:55,255] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:02:55,256] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 06:03:12,975] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:03:12,977] [INFO] - 127.0.0.1:62602 - "POST /run HTTP/1.1" 200
[2025-11-09 06:13:12,998] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 06:13:33,704] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:13:33,704] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 06:13:51,621] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:13:51,623] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 06:14:08,838] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:14:08,839] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 06:14:26,562] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:14:26,564] [INFO] - 127.0.0.1:63391 - "POST /run HTTP/1.1" 200
[2025-11-09 06:24:26,563] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 06:24:47,328] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:24:47,328] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 06:25:05,078] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:25:05,079] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 06:25:23,342] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:25:23,343] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 06:25:41,191] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:25:41,194] [INFO] - 127.0.0.1:64175 - "POST /run HTTP/1.1" 200
[2025-11-09 06:35:41,236] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 06:36:00,105] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:36:00,105] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 06:36:18,122] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:36:18,123] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 06:36:36,017] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:36:36,019] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 06:36:53,836] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:36:53,838] [INFO] - 127.0.0.1:64963 - "POST /run HTTP/1.1" 200
[2025-11-09 06:46:53,862] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 06:47:12,594] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:47:12,595] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 06:47:30,498] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:47:30,500] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 06:47:49,531] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:47:49,532] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 06:48:06,709] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:48:06,711] [INFO] - 127.0.0.1:49374 - "POST /run HTTP/1.1" 200
[2025-11-09 06:58:06,753] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 06:58:27,659] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:58:27,660] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 06:58:45,419] [INFO] - saved audit for https://www.google.com/
[2025-11-09 06:58:45,419] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 06:59:02,985] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:59:02,987] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 06:59:20,655] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 06:59:20,657] [INFO] - 127.0.0.1:50160 - "POST /run HTTP/1.1" 200
[2025-11-09 07:09:20,702] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 07:09:39,594] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:09:39,594] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 07:09:56,360] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:09:56,362] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 07:10:13,431] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 07:10:13,432] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 07:10:29,746] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 07:10:29,748] [INFO] - 127.0.0.1:50953 - "POST /run HTTP/1.1" 200
[2025-11-09 07:20:29,777] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 07:20:47,722] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:20:47,722] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 07:21:05,463] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:21:05,464] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 07:21:22,267] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 07:21:22,268] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 07:21:39,923] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 07:21:39,925] [INFO] - 127.0.0.1:51735 - "POST /run HTTP/1.1" 200
[2025-11-09 07:31:39,947] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 07:31:58,250] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:31:58,250] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 07:32:15,421] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:32:15,422] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 07:32:32,722] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 07:32:32,723] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 07:32:49,366] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 07:32:49,367] [INFO] - 127.0.0.1:52499 - "POST /run HTTP/1.1" 200
[2025-11-09 07:42:49,422] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 07:43:09,594] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:43:09,594] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 07:43:27,446] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:43:27,447] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 07:43:45,525] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 07:43:45,526] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 07:44:02,694] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 07:44:02,696] [INFO] - 127.0.0.1:53262 - "POST /run HTTP/1.1" 200
[2025-11-09 07:54:02,731] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 07:54:20,853] [INFO] - saved audit for https://www.google.com/
[2025-11-09 07:54:20,854] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 07:54:35,130] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-7bdfb1a0-3ae1-4b55-a040-806ea1149689.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 07:54:35,725] [INFO] - 127.0.0.1:54058 - "POST /run HTTP/1.1" 500
[2025-11-09 07:54:35,725] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 08:04:36,233] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 08:04:54,238] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:04:54,239] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 08:05:11,718] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:05:11,719] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 08:05:28,645] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:05:28,646] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 08:06:27,356] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:06:27,357] [INFO] - 127.0.0.1:54732 - "POST /run HTTP/1.1" 200
[2025-11-09 08:16:27,393] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 08:16:45,925] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:16:45,925] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 08:17:03,727] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:17:03,728] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 08:17:21,708] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:17:21,710] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 08:18:19,907] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:18:19,909] [INFO] - 127.0.0.1:55575 - "POST /run HTTP/1.1" 200
[2025-11-09 08:28:19,944] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 08:28:38,385] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:28:38,385] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 08:28:55,876] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:28:55,877] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 08:29:13,166] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:29:13,167] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 08:29:30,278] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:29:30,279] [INFO] - 127.0.0.1:56408 - "POST /run HTTP/1.1" 200
[2025-11-09 08:39:30,308] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 08:39:48,788] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:39:48,788] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 08:40:06,638] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:40:06,639] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 08:40:23,618] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:40:23,619] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 08:40:40,646] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:40:40,648] [INFO] - 127.0.0.1:57214 - "POST /run HTTP/1.1" 200
[2025-11-09 08:50:40,689] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 08:50:59,890] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:50:59,890] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 08:51:17,782] [INFO] - saved audit for https://www.google.com/
[2025-11-09 08:51:17,783] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 08:51:35,894] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:51:35,895] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 08:51:52,532] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 08:51:52,534] [INFO] - 127.0.0.1:58013 - "POST /run HTTP/1.1" 200
[2025-11-09 09:01:52,519] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 09:02:09,883] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:02:09,884] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 09:02:27,612] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:02:27,613] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 09:02:44,548] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:02:44,549] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 09:03:02,323] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:03:02,325] [INFO] - 127.0.0.1:58806 - "POST /run HTTP/1.1" 200
[2025-11-09 09:13:02,339] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 09:13:22,860] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:13:22,861] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 09:13:40,071] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:13:40,072] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 09:13:57,757] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:13:57,758] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 09:14:15,398] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:14:15,399] [INFO] - 127.0.0.1:59623 - "POST /run HTTP/1.1" 200
[2025-11-09 09:24:15,445] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 09:24:34,518] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:24:34,519] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 09:24:52,341] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:24:52,343] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 09:25:09,402] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:25:09,403] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 09:25:27,941] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:25:27,944] [INFO] - 127.0.0.1:60427 - "POST /run HTTP/1.1" 200
[2025-11-09 09:35:27,972] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 09:35:45,836] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:35:45,837] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 09:36:03,618] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:36:03,619] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 09:36:22,191] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:36:22,192] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 09:36:39,570] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:36:39,571] [INFO] - 127.0.0.1:61219 - "POST /run HTTP/1.1" 200
[2025-11-09 09:46:39,616] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 09:46:58,231] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:46:58,232] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 09:47:16,050] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:47:16,052] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 09:47:33,029] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:47:33,029] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 09:48:31,422] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:48:31,423] [INFO] - 127.0.0.1:62007 - "POST /run HTTP/1.1" 200
[2025-11-09 09:58:31,482] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 09:58:48,966] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:58:48,967] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 09:59:06,275] [INFO] - saved audit for https://www.google.com/
[2025-11-09 09:59:06,275] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 09:59:23,323] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:59:23,323] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 09:59:40,460] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 09:59:40,462] [INFO] - 127.0.0.1:62840 - "POST /run HTTP/1.1" 200
[2025-11-09 10:09:40,488] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 10:09:59,449] [INFO] - saved audit for https://www.google.com/
[2025-11-09 10:09:59,450] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 10:10:13,595] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-19a16549-8991-437d-a078-5f9bdc21e61d.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 10:10:14,299] [INFO] - 127.0.0.1:63613 - "POST /run HTTP/1.1" 500
[2025-11-09 10:10:14,300] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 10:20:14,865] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 10:20:36,128] [INFO] - saved audit for https://www.google.com/
[2025-11-09 10:20:36,128] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 10:20:50,162] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-461f37c8-38e8-451b-b1c6-73f13a106f9e.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 10:20:50,770] [INFO] - 127.0.0.1:64283 - "POST /run HTTP/1.1" 500
[2025-11-09 10:20:50,771] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 10:30:51,287] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 10:31:10,238] [INFO] - saved audit for https://www.google.com/
[2025-11-09 10:31:10,238] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 10:31:28,182] [INFO] - saved audit for https://www.google.com/
[2025-11-09 10:31:28,183] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 10:31:45,477] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 10:31:45,478] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 10:32:02,724] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 10:32:02,726] [INFO] - 127.0.0.1:64962 - "POST /run HTTP/1.1" 200
[2025-11-09 10:42:02,726] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 10:42:20,914] [INFO] - saved audit for https://www.google.com/
[2025-11-09 10:42:20,915] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 10:42:37,762] [INFO] - saved audit for https://www.google.com/
[2025-11-09 10:42:37,764] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 10:42:55,158] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 10:42:55,160] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 10:43:12,654] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 10:43:12,656] [INFO] - 127.0.0.1:49356 - "POST /run HTTP/1.1" 200
[2025-11-09 10:53:12,679] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 10:53:31,248] [INFO] - saved audit for https://www.google.com/
[2025-11-09 10:53:31,249] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 10:53:45,672] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-ef254bf8-3bd2-46f9-91dd-00815e683f90.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 10:53:46,325] [INFO] - 127.0.0.1:50110 - "POST /run HTTP/1.1" 500
[2025-11-09 10:53:46,325] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 11:03:46,842] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 11:04:05,579] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:04:05,580] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 11:04:22,998] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:04:23,000] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 11:04:39,572] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:04:39,573] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 11:04:56,488] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:04:56,489] [INFO] - 127.0.0.1:50803 - "POST /run HTTP/1.1" 200
[2025-11-09 11:14:56,529] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 11:15:14,741] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:15:14,742] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 11:15:32,508] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:15:32,510] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 11:15:50,028] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:15:50,030] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 11:16:08,766] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:16:08,767] [INFO] - 127.0.0.1:51569 - "POST /run HTTP/1.1" 200
[2025-11-09 11:26:08,792] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 11:26:29,001] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:26:29,001] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 11:26:46,317] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:26:46,319] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 11:27:03,414] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:27:03,416] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 11:27:21,389] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:27:21,391] [INFO] - 127.0.0.1:52383 - "POST /run HTTP/1.1" 200
[2025-11-09 11:37:21,436] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 11:37:39,470] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:37:39,470] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 11:37:56,814] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:37:56,816] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 11:38:55,465] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:38:55,466] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 11:39:12,617] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:39:12,619] [INFO] - 127.0.0.1:53147 - "POST /run HTTP/1.1" 200
[2025-11-09 11:49:12,670] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 11:49:31,277] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:49:31,278] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 11:49:49,005] [INFO] - saved audit for https://www.google.com/
[2025-11-09 11:49:49,007] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 11:50:06,477] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:50:06,478] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 11:50:23,720] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 11:50:23,722] [INFO] - 127.0.0.1:53959 - "POST /run HTTP/1.1" 200
[2025-11-09 12:00:23,758] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 12:00:42,054] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:00:42,054] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 12:00:59,915] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:00:59,916] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 12:01:17,197] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:01:17,198] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 12:01:34,399] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:01:34,401] [INFO] - 127.0.0.1:54746 - "POST /run HTTP/1.1" 200
[2025-11-09 12:11:34,423] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 12:11:52,825] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:11:52,826] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 12:12:10,646] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:12:10,647] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 12:12:27,134] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:12:27,135] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 12:12:44,965] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:12:44,967] [INFO] - 127.0.0.1:55519 - "POST /run HTTP/1.1" 200
[2025-11-09 12:22:45,000] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 12:23:04,372] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:23:04,373] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 12:23:20,822] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:23:20,824] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 12:23:37,847] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:23:37,848] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 12:23:53,085] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-02fd975d-8899-4a29-9921-27fd35e7b1a1.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-09 12:23:53,861] [INFO] - 127.0.0.1:56284 - "POST /run HTTP/1.1" 500
[2025-11-09 12:23:53,861] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 12:33:54,372] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 12:34:12,416] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:34:12,416] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 12:34:30,258] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:34:30,260] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 12:34:46,793] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:34:46,793] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 12:35:05,144] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:35:05,146] [INFO] - 127.0.0.1:57067 - "POST /run HTTP/1.1" 200
[2025-11-09 12:45:05,159] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 12:45:22,690] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:45:22,691] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 12:45:40,436] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:45:40,437] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 12:45:56,760] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:45:56,761] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 12:46:14,793] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:46:14,794] [INFO] - 127.0.0.1:57857 - "POST /run HTTP/1.1" 200
[2025-11-09 12:56:14,815] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 12:56:33,657] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:56:33,658] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 12:56:50,924] [INFO] - saved audit for https://www.google.com/
[2025-11-09 12:56:50,925] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 12:57:07,915] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:57:07,916] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 12:57:25,110] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 12:57:25,112] [INFO] - 127.0.0.1:58640 - "POST /run HTTP/1.1" 200
[2025-11-09 13:07:25,155] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 13:07:44,080] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:07:44,080] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 13:08:01,332] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:08:01,334] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 13:08:18,200] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 13:08:18,201] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 13:08:35,746] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 13:08:35,748] [INFO] - 127.0.0.1:59391 - "POST /run HTTP/1.1" 200
[2025-11-09 13:18:35,798] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 13:18:53,798] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:18:53,799] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 13:19:11,635] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:19:11,637] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 13:19:28,997] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 13:19:28,998] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 13:19:46,178] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 13:19:46,180] [INFO] - 127.0.0.1:60152 - "POST /run HTTP/1.1" 200
[2025-11-09 13:29:46,203] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 13:30:04,717] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:30:04,717] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 13:30:22,568] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:30:22,570] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 13:30:47,127] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 13:30:47,128] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 13:31:05,267] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 13:31:05,270] [INFO] - 127.0.0.1:60926 - "POST /run HTTP/1.1" 200
[2025-11-09 13:41:05,314] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 13:41:22,923] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:41:22,924] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 13:41:36,870] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-e9a55c73-2a7e-43f8-9afa-b1267fea26f0.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 13:41:37,584] [INFO] - 127.0.0.1:61731 - "POST /run HTTP/1.1" 500
[2025-11-09 13:41:37,584] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 13:51:38,216] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 13:51:56,875] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:51:56,876] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 13:52:14,315] [INFO] - saved audit for https://www.google.com/
[2025-11-09 13:52:14,317] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 13:52:30,525] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 13:52:30,526] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 13:52:47,213] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 13:52:47,214] [INFO] - 127.0.0.1:62470 - "POST /run HTTP/1.1" 200
[2025-11-09 14:02:47,251] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 14:03:05,482] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:03:05,483] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 14:03:19,923] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-df636e2a-aeff-454e-b011-734263da43e3.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 14:03:20,525] [INFO] - 127.0.0.1:63267 - "POST /run HTTP/1.1" 500
[2025-11-09 14:03:20,525] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 14:13:21,017] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 14:13:39,277] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:13:39,278] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 14:13:55,341] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:13:55,342] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 14:14:12,248] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:14:12,249] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 14:14:29,086] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:14:29,087] [INFO] - 127.0.0.1:63924 - "POST /run HTTP/1.1" 200
[2025-11-09 14:24:29,112] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 14:24:47,112] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:24:47,113] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 14:25:03,540] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:25:03,541] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 14:25:20,732] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:25:20,733] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 14:25:37,835] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:25:37,836] [INFO] - 127.0.0.1:64723 - "POST /run HTTP/1.1" 200
[2025-11-09 14:35:37,863] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 14:35:56,314] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:35:56,314] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 14:36:13,141] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:36:13,143] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 14:36:30,786] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:36:30,788] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 14:36:47,720] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:36:47,721] [INFO] - 127.0.0.1:65475 - "POST /run HTTP/1.1" 200
[2025-11-09 14:46:47,753] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 14:47:06,378] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:47:06,378] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 14:47:24,359] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:47:24,361] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 14:47:42,010] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:47:42,011] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 14:47:59,077] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:47:59,080] [INFO] - 127.0.0.1:49849 - "POST /run HTTP/1.1" 200
[2025-11-09 14:57:59,109] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 14:58:18,489] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:58:18,490] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 14:58:36,281] [INFO] - saved audit for https://www.google.com/
[2025-11-09 14:58:36,282] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 14:58:54,517] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:58:54,518] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 14:59:53,539] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 14:59:53,540] [INFO] - 127.0.0.1:50643 - "POST /run HTTP/1.1" 200
[2025-11-09 15:09:53,568] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 15:10:10,563] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:10:10,564] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 15:10:27,862] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:10:27,863] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 15:10:44,714] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 15:10:44,715] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 15:11:02,504] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 15:11:02,506] [INFO] - 127.0.0.1:51472 - "POST /run HTTP/1.1" 200
[2025-11-09 15:21:02,504] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 15:21:20,426] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:21:20,427] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 15:21:37,168] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:21:37,169] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 15:21:53,788] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 15:21:53,789] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 15:22:11,532] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 15:22:11,534] [INFO] - 127.0.0.1:52208 - "POST /run HTTP/1.1" 200
[2025-11-09 15:32:11,525] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 15:32:29,727] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:32:29,727] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 15:32:47,567] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:32:47,569] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 15:33:05,157] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 15:33:05,159] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 15:33:22,369] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 15:33:22,371] [INFO] - 127.0.0.1:52961 - "POST /run HTTP/1.1" 200
[2025-11-09 15:43:22,392] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 15:43:40,462] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:43:40,463] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 15:43:57,725] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:43:57,726] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 15:44:14,543] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 15:44:14,544] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 15:44:31,870] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 15:44:31,873] [INFO] - 127.0.0.1:53715 - "POST /run HTTP/1.1" 200
[2025-11-09 15:54:31,907] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 15:54:50,268] [INFO] - saved audit for https://www.google.com/
[2025-11-09 15:54:50,268] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 15:55:04,162] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-f5225cb5-3cee-4f06-bf26-a91b0e4973ff.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 15:55:04,791] [INFO] - 127.0.0.1:54481 - "POST /run HTTP/1.1" 500
[2025-11-09 15:55:04,791] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 16:05:05,390] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 16:05:25,567] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:05:25,568] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 16:05:39,032] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-e2dd6ba6-8e56-4d48-bfca-11a366367949.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 16:05:39,668] [INFO] - 127.0.0.1:55143 - "POST /run HTTP/1.1" 500
[2025-11-09 16:05:39,668] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 16:15:40,288] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 16:15:58,703] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:15:58,703] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 16:16:17,611] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:16:17,612] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 16:16:35,530] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 16:16:35,531] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 16:17:34,237] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 16:17:34,239] [INFO] - 127.0.0.1:55799 - "POST /run HTTP/1.1" 200
[2025-11-09 16:27:34,257] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 16:27:52,679] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:27:52,680] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 16:28:10,048] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:28:10,050] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 16:28:27,636] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 16:28:27,637] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 16:28:44,978] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 16:28:44,979] [INFO] - 127.0.0.1:56649 - "POST /run HTTP/1.1" 200
[2025-11-09 16:38:45,016] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 16:39:03,010] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:39:03,011] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 16:39:20,959] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:39:20,961] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 16:39:38,793] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 16:39:38,794] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 16:39:55,987] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 16:39:55,990] [INFO] - 127.0.0.1:57405 - "POST /run HTTP/1.1" 200
[2025-11-09 16:49:56,039] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 16:50:14,514] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:50:14,514] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 16:50:31,980] [INFO] - saved audit for https://www.google.com/
[2025-11-09 16:50:31,982] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 16:50:49,230] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 16:50:49,231] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 16:51:07,148] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 16:51:07,151] [INFO] - 127.0.0.1:58151 - "POST /run HTTP/1.1" 200
[2025-11-09 17:01:07,191] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 17:01:26,499] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:01:26,499] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 17:01:44,280] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:01:44,282] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 17:02:03,408] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:02:03,410] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 17:02:20,896] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:02:20,898] [INFO] - 127.0.0.1:58958 - "POST /run HTTP/1.1" 200
[2025-11-09 17:12:20,924] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 17:12:39,622] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:12:39,622] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 17:12:57,267] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:12:57,269] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 17:13:14,212] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:13:14,213] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 17:13:32,866] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:13:32,867] [INFO] - 127.0.0.1:59708 - "POST /run HTTP/1.1" 200
[2025-11-09 17:23:32,909] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 17:23:51,656] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:23:51,657] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 17:24:09,826] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:24:09,827] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 17:24:27,218] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:24:27,220] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 17:24:44,652] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:24:44,654] [INFO] - 127.0.0.1:60492 - "POST /run HTTP/1.1" 200
[2025-11-09 17:34:44,696] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 17:35:03,715] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:35:03,716] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 17:35:21,853] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:35:21,855] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 17:35:38,709] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:35:38,710] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 17:35:55,708] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:35:55,710] [INFO] - 127.0.0.1:61225 - "POST /run HTTP/1.1" 200
[2025-11-09 17:45:55,712] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 17:46:15,378] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:46:15,379] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 17:46:33,354] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:46:33,356] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 17:46:50,498] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:46:50,499] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 17:47:07,746] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:47:07,748] [INFO] - 127.0.0.1:62002 - "POST /run HTTP/1.1" 200
[2025-11-09 17:57:07,774] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 17:57:25,666] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:57:25,666] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 17:57:43,443] [INFO] - saved audit for https://www.google.com/
[2025-11-09 17:57:43,445] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 17:58:02,483] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:58:02,484] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 17:58:21,628] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 17:58:21,631] [INFO] - 127.0.0.1:62829 - "POST /run HTTP/1.1" 200
[2025-11-09 18:08:21,641] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 18:08:40,470] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:08:40,471] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 18:08:58,456] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:08:58,457] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 18:09:15,780] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:09:15,781] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 18:09:33,365] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:09:33,368] [INFO] - 127.0.0.1:63588 - "POST /run HTTP/1.1" 200
[2025-11-09 18:19:33,391] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 18:19:54,142] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:19:54,142] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 18:20:11,016] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:20:11,018] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 18:20:28,176] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:20:28,177] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 18:20:45,275] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:20:45,277] [INFO] - 127.0.0.1:64346 - "POST /run HTTP/1.1" 200
[2025-11-09 18:30:45,300] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 18:31:04,378] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:31:04,379] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 18:31:21,912] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:31:21,914] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 18:31:38,460] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:31:38,461] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 18:31:55,743] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:31:55,745] [INFO] - 127.0.0.1:65144 - "POST /run HTTP/1.1" 200
[2025-11-09 18:41:55,729] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 18:42:13,295] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:42:13,296] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 18:42:31,693] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:42:31,695] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 18:43:31,320] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:43:31,321] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 18:43:49,121] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:43:49,123] [INFO] - 127.0.0.1:49539 - "POST /run HTTP/1.1" 200
[2025-11-09 18:53:49,167] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 18:54:07,637] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:54:07,637] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 18:54:24,991] [INFO] - saved audit for https://www.google.com/
[2025-11-09 18:54:24,992] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 18:54:43,694] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:54:43,695] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 18:55:01,263] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 18:55:01,265] [INFO] - 127.0.0.1:50374 - "POST /run HTTP/1.1" 200
[2025-11-09 19:05:01,288] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 19:05:18,230] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:05:18,230] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 19:05:36,047] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:05:36,048] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 19:05:55,075] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 19:05:55,076] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 19:06:13,087] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 19:06:13,090] [INFO] - 127.0.0.1:51127 - "POST /run HTTP/1.1" 200
[2025-11-09 19:16:13,114] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 19:16:32,287] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:16:32,288] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 19:16:50,185] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:16:50,186] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 19:17:07,186] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 19:17:07,187] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 19:17:25,933] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 19:17:25,935] [INFO] - 127.0.0.1:51878 - "POST /run HTTP/1.1" 200
[2025-11-09 19:27:25,980] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 19:27:46,395] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:27:46,395] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 19:28:00,378] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-95736fb8-b83e-4e4d-b876-e69055f1bb06.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-09 19:28:00,978] [INFO] - 127.0.0.1:52686 - "POST /run HTTP/1.1" 500
[2025-11-09 19:28:00,978] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 19:38:01,482] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 19:38:21,705] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:38:21,705] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 19:38:39,580] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:38:39,581] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 19:38:56,796] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 19:38:56,797] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 19:39:14,383] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 19:39:14,385] [INFO] - 127.0.0.1:53321 - "POST /run HTTP/1.1" 200
[2025-11-09 19:49:14,392] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 19:49:32,761] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:49:32,761] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 19:49:49,917] [INFO] - saved audit for https://www.google.com/
[2025-11-09 19:49:49,918] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 19:50:06,844] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 19:50:06,845] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 19:50:24,348] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 19:50:24,350] [INFO] - 127.0.0.1:54079 - "POST /run HTTP/1.1" 200
[2025-11-09 20:00:24,373] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 20:00:42,922] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:00:42,923] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 20:01:00,137] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:01:00,138] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 20:01:17,997] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:01:17,999] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 20:01:35,275] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:01:35,277] [INFO] - 127.0.0.1:54868 - "POST /run HTTP/1.1" 200
[2025-11-09 20:11:35,310] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 20:11:55,637] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:11:55,638] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 20:12:13,162] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:12:13,163] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 20:12:30,464] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:12:30,466] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 20:12:47,007] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:12:47,009] [INFO] - 127.0.0.1:55622 - "POST /run HTTP/1.1" 200
[2025-11-09 20:22:47,062] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 20:23:04,167] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:23:04,167] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 20:23:21,082] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:23:21,083] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 20:23:38,605] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:23:38,606] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 20:23:56,537] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:23:56,540] [INFO] - 127.0.0.1:56413 - "POST /run HTTP/1.1" 200
[2025-11-09 20:33:56,575] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 20:34:14,782] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:34:14,783] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 20:34:32,699] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:34:32,700] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 20:34:50,009] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:34:50,010] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 20:35:07,026] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:35:07,028] [INFO] - 127.0.0.1:57141 - "POST /run HTTP/1.1" 200
[2025-11-09 20:45:07,048] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 20:45:25,805] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:45:25,805] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 20:45:43,722] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:45:43,723] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 20:46:00,420] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:46:00,422] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 20:46:18,775] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:46:18,776] [INFO] - 127.0.0.1:57898 - "POST /run HTTP/1.1" 200
[2025-11-09 20:56:18,783] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 20:56:37,062] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:56:37,063] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 20:56:55,650] [INFO] - saved audit for https://www.google.com/
[2025-11-09 20:56:55,651] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 20:57:12,484] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:57:12,485] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 20:57:29,187] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 20:57:29,188] [INFO] - 127.0.0.1:58731 - "POST /run HTTP/1.1" 200
[2025-11-09 21:07:29,203] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 21:07:48,355] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:07:48,355] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 21:08:06,000] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:08:06,000] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 21:08:23,217] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 21:08:23,218] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 21:08:41,753] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 21:08:41,755] [INFO] - 127.0.0.1:59491 - "POST /run HTTP/1.1" 200
[2025-11-09 21:18:41,784] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 21:19:01,640] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:19:01,641] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 21:19:19,519] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:19:19,520] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 21:19:36,938] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 21:19:36,940] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 21:19:51,827] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-40ed5a1c-0891-4cbe-84e0-e55fd1ec932b.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-09 21:19:52,500] [INFO] - 127.0.0.1:60251 - "POST /run HTTP/1.1" 500
[2025-11-09 21:19:52,501] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 21:29:53,079] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 21:30:10,817] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:30:10,818] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 21:30:28,976] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:30:28,978] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 21:30:46,449] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 21:30:46,450] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 21:31:00,575] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-5df1f386-10e8-4701-9deb-d80e92a4cc4b.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-09 21:31:01,243] [INFO] - 127.0.0.1:61041 - "POST /run HTTP/1.1" 500
[2025-11-09 21:31:01,244] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-09 21:41:01,792] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 21:41:19,438] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:41:19,438] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 21:41:36,829] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:41:36,830] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 21:42:04,504] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 21:42:04,505] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 21:42:21,918] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 21:42:21,919] [INFO] - 127.0.0.1:61802 - "POST /run HTTP/1.1" 200
[2025-11-09 21:52:21,953] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 21:52:40,593] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:52:40,593] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 21:52:58,488] [INFO] - saved audit for https://www.google.com/
[2025-11-09 21:52:58,489] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 21:53:15,586] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 21:53:15,587] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 21:53:32,547] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 21:53:32,548] [INFO] - 127.0.0.1:62723 - "POST /run HTTP/1.1" 200
[2025-11-09 22:03:32,569] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 22:03:53,009] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:03:53,010] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 22:04:10,446] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:04:10,447] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 22:04:28,823] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:04:28,824] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 22:04:47,118] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:04:47,120] [INFO] - 127.0.0.1:63479 - "POST /run HTTP/1.1" 200
[2025-11-09 22:14:47,190] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 22:15:04,771] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:15:04,772] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 22:15:22,645] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:15:22,646] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 22:15:39,602] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:15:39,604] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 22:15:57,473] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:15:57,475] [INFO] - 127.0.0.1:64250 - "POST /run HTTP/1.1" 200
[2025-11-09 22:25:57,519] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 22:26:15,669] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:26:15,669] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 22:26:33,130] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:26:33,131] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 22:26:50,945] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:26:50,946] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 22:27:08,029] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:27:08,030] [INFO] - 127.0.0.1:65046 - "POST /run HTTP/1.1" 200
[2025-11-09 22:37:08,059] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 22:37:26,888] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:37:26,888] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 22:37:44,243] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:37:44,245] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 22:38:02,636] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:38:02,636] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 22:38:20,509] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:38:20,511] [INFO] - 127.0.0.1:49419 - "POST /run HTTP/1.1" 200
[2025-11-09 22:48:20,538] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 22:48:38,670] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:48:38,671] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 22:48:56,478] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:48:56,480] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 22:49:13,621] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:49:13,622] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 22:49:31,645] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 22:49:31,648] [INFO] - 127.0.0.1:50186 - "POST /run HTTP/1.1" 200
[2025-11-09 22:59:31,651] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 22:59:49,165] [INFO] - saved audit for https://www.google.com/
[2025-11-09 22:59:49,166] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 23:00:06,780] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:00:06,781] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 23:00:23,421] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:00:23,422] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 23:00:40,351] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:00:40,353] [INFO] - 127.0.0.1:50970 - "POST /run HTTP/1.1" 200
[2025-11-09 23:10:40,378] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 23:10:59,034] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:10:59,034] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 23:11:17,195] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:11:17,197] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 23:11:34,273] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:11:34,273] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 23:11:51,700] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:11:51,702] [INFO] - 127.0.0.1:51744 - "POST /run HTTP/1.1" 200
[2025-11-09 23:21:51,724] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 23:22:09,807] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:22:09,807] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 23:22:27,311] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:22:27,311] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 23:22:43,738] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:22:43,739] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 23:23:01,325] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:23:01,327] [INFO] - 127.0.0.1:52544 - "POST /run HTTP/1.1" 200
[2025-11-09 23:33:01,367] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 23:33:19,851] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:33:19,851] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 23:33:37,739] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:33:37,741] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 23:33:55,165] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:33:55,165] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 23:34:12,956] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:34:12,957] [INFO] - 127.0.0.1:53297 - "POST /run HTTP/1.1" 200
[2025-11-09 23:44:13,002] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 23:44:32,027] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:44:32,028] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 23:44:49,349] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:44:49,351] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 23:45:06,528] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:45:06,530] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 23:45:23,685] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:45:23,687] [INFO] - 127.0.0.1:54107 - "POST /run HTTP/1.1" 200
[2025-11-09 23:55:23,714] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-09 23:55:41,355] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:55:41,355] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-09 23:55:58,726] [INFO] - saved audit for https://www.google.com/
[2025-11-09 23:55:58,727] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-09 23:56:15,958] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:56:15,959] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-09 23:56:33,290] [INFO] - saved audit for https://chatgpt.com/
[2025-11-09 23:56:33,291] [INFO] - 127.0.0.1:54917 - "POST /run HTTP/1.1" 200
[2025-11-10 00:06:33,311] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 00:06:53,561] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:06:53,561] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 00:07:11,425] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:07:11,426] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 00:07:29,127] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:07:29,128] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 00:07:44,155] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-1a36afe5-f3ac-4d95-ac16-a9ef096c27a4.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-10 00:07:44,903] [INFO] - 127.0.0.1:55692 - "POST /run HTTP/1.1" 500
[2025-11-10 00:07:44,903] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 00:17:45,462] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 00:18:06,108] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:18:06,109] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 00:18:24,056] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:18:24,058] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 00:18:42,720] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:18:42,721] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 00:18:59,364] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:18:59,366] [INFO] - 127.0.0.1:56449 - "POST /run HTTP/1.1" 200
[2025-11-10 00:28:59,408] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 00:29:17,746] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:29:17,747] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 00:29:35,677] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:29:35,679] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 00:29:54,615] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:29:54,616] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 00:30:11,801] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:30:11,820] [INFO] - 127.0.0.1:57244 - "POST /run HTTP/1.1" 200
[2025-11-10 00:40:11,864] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 00:40:30,526] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:40:30,527] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 00:40:48,480] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:40:48,481] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 00:41:06,913] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:41:06,915] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 00:41:23,724] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:41:23,726] [INFO] - 127.0.0.1:58033 - "POST /run HTTP/1.1" 200
[2025-11-10 00:51:23,747] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 00:51:41,760] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:51:41,761] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 00:51:57,802] [INFO] - saved audit for https://www.google.com/
[2025-11-10 00:51:57,803] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 00:52:14,604] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:52:14,605] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 00:52:31,897] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 00:52:31,899] [INFO] - 127.0.0.1:58780 - "POST /run HTTP/1.1" 200
[2025-11-10 01:02:31,946] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 01:02:50,059] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:02:50,060] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 01:03:07,606] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:03:07,608] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 01:03:24,523] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:03:24,524] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 01:03:41,403] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:03:41,405] [INFO] - 127.0.0.1:59521 - "POST /run HTTP/1.1" 200
[2025-11-10 01:13:41,447] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 01:14:02,379] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:14:02,379] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 01:14:20,348] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:14:20,348] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 01:14:38,815] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:14:38,815] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 01:14:56,024] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:14:56,026] [INFO] - 127.0.0.1:60309 - "POST /run HTTP/1.1" 200
[2025-11-10 01:24:56,051] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 01:25:14,047] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:25:14,048] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 01:25:28,199] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-91836ed0-8af0-4f8b-896d-3b181bb85eb1.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 01:25:28,847] [INFO] - 127.0.0.1:61132 - "POST /run HTTP/1.1" 500
[2025-11-10 01:25:28,848] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 01:35:29,388] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 01:35:49,721] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:35:49,722] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 01:36:07,588] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:36:07,590] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 01:36:26,042] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:36:26,043] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 01:36:43,148] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:36:43,150] [INFO] - 127.0.0.1:61763 - "POST /run HTTP/1.1" 200
[2025-11-10 01:46:43,147] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 01:47:01,838] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:47:01,839] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 01:47:19,715] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:47:19,716] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 01:47:37,046] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:47:37,047] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 01:47:54,294] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:47:54,296] [INFO] - 127.0.0.1:62557 - "POST /run HTTP/1.1" 200
[2025-11-10 01:57:54,320] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 01:58:11,992] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:58:11,992] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 01:58:29,898] [INFO] - saved audit for https://www.google.com/
[2025-11-10 01:58:29,899] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 01:58:46,605] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:58:46,605] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 01:59:04,255] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 01:59:04,257] [INFO] - 127.0.0.1:63345 - "POST /run HTTP/1.1" 200
[2025-11-10 02:09:04,284] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 02:09:23,400] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:09:23,400] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 02:09:37,673] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-c96e03b3-be9e-46ec-bd0f-d6410ac43fb0.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 02:09:38,294] [INFO] - 127.0.0.1:64136 - "POST /run HTTP/1.1" 500
[2025-11-10 02:09:38,294] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 02:19:38,801] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 02:19:57,488] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:19:57,489] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 02:20:15,361] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:20:15,362] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 02:20:32,085] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 02:20:32,086] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 02:20:48,916] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 02:20:48,918] [INFO] - 127.0.0.1:64804 - "POST /run HTTP/1.1" 200
[2025-11-10 02:30:48,937] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 02:31:07,946] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:31:07,946] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 02:31:25,293] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:31:25,293] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 02:31:44,456] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 02:31:44,457] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 02:32:01,604] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 02:32:01,606] [INFO] - 127.0.0.1:49169 - "POST /run HTTP/1.1" 200
[2025-11-10 02:42:01,639] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 02:42:19,584] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:42:19,584] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 02:42:37,607] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:42:37,609] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 02:42:56,156] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 02:42:56,157] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 02:43:13,480] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 02:43:13,481] [INFO] - 127.0.0.1:49958 - "POST /run HTTP/1.1" 200
[2025-11-10 02:53:13,527] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 02:53:32,257] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:53:32,257] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 02:53:49,514] [INFO] - saved audit for https://www.google.com/
[2025-11-10 02:53:49,515] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 02:54:09,561] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 02:54:09,562] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 02:54:27,250] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 02:54:27,252] [INFO] - 127.0.0.1:50736 - "POST /run HTTP/1.1" 200
[2025-11-10 03:04:27,292] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 03:04:46,636] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:04:46,637] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 03:05:04,109] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:05:04,110] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 03:05:21,844] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:05:21,845] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 03:05:39,336] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:05:39,337] [INFO] - 127.0.0.1:51485 - "POST /run HTTP/1.1" 200
[2025-11-10 03:15:39,325] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 03:15:57,691] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:15:57,692] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 03:16:16,507] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:16:16,508] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 03:16:34,724] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:16:34,725] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 03:16:52,485] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:16:52,487] [INFO] - 127.0.0.1:52333 - "POST /run HTTP/1.1" 200
[2025-11-10 03:26:52,512] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 03:27:10,710] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:27:10,710] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 03:27:28,525] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:27:28,525] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 03:27:45,527] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:27:45,528] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 03:28:03,018] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:28:03,020] [INFO] - 127.0.0.1:53111 - "POST /run HTTP/1.1" 200
[2025-11-10 03:38:03,021] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 03:38:21,405] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:38:21,405] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 03:38:39,331] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:38:39,332] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 03:38:57,433] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:38:57,433] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 03:39:14,303] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:39:14,304] [INFO] - 127.0.0.1:53878 - "POST /run HTTP/1.1" 200
[2025-11-10 03:49:14,354] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 03:49:32,718] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:49:32,719] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 03:49:50,215] [INFO] - saved audit for https://www.google.com/
[2025-11-10 03:49:50,216] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 03:50:07,315] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:50:07,316] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 03:50:24,073] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 03:50:24,076] [INFO] - 127.0.0.1:54652 - "POST /run HTTP/1.1" 200
[2025-11-10 04:00:24,094] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 04:00:44,474] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:00:44,475] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 04:00:58,027] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-d342cab3-b4bc-4c7b-8c8d-d6a496f94dbf.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 04:00:58,702] [INFO] - 127.0.0.1:55454 - "POST /run HTTP/1.1" 500
[2025-11-10 04:00:58,703] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 04:10:59,299] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 04:11:18,268] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:11:18,269] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 04:11:36,051] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:11:36,052] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 04:11:54,617] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:11:54,618] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 04:12:12,637] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:12:12,639] [INFO] - 127.0.0.1:56142 - "POST /run HTTP/1.1" 200
[2025-11-10 04:22:12,651] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 04:22:31,436] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:22:31,437] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 04:22:49,445] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:22:49,446] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 04:23:08,023] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:23:08,024] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 04:23:25,840] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:23:25,842] [INFO] - 127.0.0.1:56893 - "POST /run HTTP/1.1" 200
[2025-11-10 04:33:25,882] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 04:33:44,963] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:33:44,964] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 04:34:02,361] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:34:02,362] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 04:34:19,026] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:34:19,028] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 04:34:32,088] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-f96e5f2c-c33b-472b-bf17-52e262f2637a.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-10 04:34:33,695] [INFO] - 127.0.0.1:57640 - "POST /run HTTP/1.1" 500
[2025-11-10 04:34:33,695] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 04:44:34,335] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 04:44:54,635] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:44:54,635] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 04:45:12,172] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:45:12,173] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 04:45:29,214] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:45:29,215] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 04:45:46,044] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:45:46,046] [INFO] - 127.0.0.1:58408 - "POST /run HTTP/1.1" 200
[2025-11-10 04:55:46,029] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 04:56:05,005] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:56:05,006] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 04:56:22,271] [INFO] - saved audit for https://www.google.com/
[2025-11-10 04:56:22,273] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 04:56:40,391] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:56:40,393] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 04:56:58,406] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 04:56:58,407] [INFO] - 127.0.0.1:59199 - "POST /run HTTP/1.1" 200
[2025-11-10 05:06:58,440] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 05:07:18,644] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:07:18,644] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 05:07:35,997] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:07:35,998] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 05:07:53,859] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 05:07:53,860] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 05:08:12,572] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 05:08:12,574] [INFO] - 127.0.0.1:59971 - "POST /run HTTP/1.1" 200
[2025-11-10 05:18:12,589] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 05:18:31,841] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:18:31,841] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 05:18:49,280] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:18:49,282] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 05:19:07,307] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 05:19:07,308] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 05:19:26,575] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 05:19:26,578] [INFO] - 127.0.0.1:60774 - "POST /run HTTP/1.1" 200
[2025-11-10 05:29:26,600] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 05:29:44,924] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:29:44,925] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 05:30:02,423] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:30:02,425] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 05:30:19,133] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 05:30:19,134] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 05:30:36,411] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 05:30:36,413] [INFO] - 127.0.0.1:61545 - "POST /run HTTP/1.1" 200
[2025-11-10 05:40:36,457] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 05:40:53,925] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:40:53,926] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 05:41:11,416] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:41:11,417] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 05:41:28,856] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 05:41:28,857] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 05:41:47,653] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 05:41:47,655] [INFO] - 127.0.0.1:62316 - "POST /run HTTP/1.1" 200
[2025-11-10 05:51:47,682] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 05:52:06,041] [INFO] - saved audit for https://www.google.com/
[2025-11-10 05:52:06,041] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 05:52:20,601] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-2cce35d7-d6a7-4849-b824-6b6f2f440348.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 05:52:21,293] [INFO] - 127.0.0.1:63161 - "POST /run HTTP/1.1" 500
[2025-11-10 05:52:21,294] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 06:02:21,880] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 06:02:40,040] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:02:40,040] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 06:02:57,824] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:02:57,826] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 06:03:16,179] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:03:16,180] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 06:03:33,849] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:03:33,850] [INFO] - 127.0.0.1:63815 - "POST /run HTTP/1.1" 200
[2025-11-10 06:13:33,874] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 06:13:54,314] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:13:54,315] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 06:14:12,209] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:14:12,210] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 06:14:29,678] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:14:29,679] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 06:14:46,563] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:14:46,564] [INFO] - 127.0.0.1:64575 - "POST /run HTTP/1.1" 200
[2025-11-10 06:24:46,569] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 06:25:05,158] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:25:05,158] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 06:25:22,682] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:25:22,682] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 06:25:39,459] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:25:39,459] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 06:26:39,087] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:26:39,088] [INFO] - 127.0.0.1:65363 - "POST /run HTTP/1.1" 200
[2025-11-10 06:36:39,140] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 06:36:57,675] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:36:57,676] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 06:37:15,465] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:37:15,466] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 06:37:33,613] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:37:33,613] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 06:37:50,885] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:37:50,887] [INFO] - 127.0.0.1:49775 - "POST /run HTTP/1.1" 200
[2025-11-10 06:47:50,906] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 06:48:09,577] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:48:09,578] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 06:48:27,556] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:48:27,557] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 06:48:45,206] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:48:45,207] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 06:49:02,857] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 06:49:02,859] [INFO] - 127.0.0.1:50527 - "POST /run HTTP/1.1" 200
[2025-11-10 06:59:02,879] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 06:59:23,404] [INFO] - saved audit for https://www.google.com/
[2025-11-10 06:59:23,405] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 06:59:38,102] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-997b1e76-2a1c-4d58-8eee-3b5c6c76f0e2.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 06:59:38,697] [INFO] - 127.0.0.1:51291 - "POST /run HTTP/1.1" 500
[2025-11-10 06:59:38,698] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 07:09:39,229] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 07:09:57,060] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:09:57,060] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 07:10:14,909] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:10:14,910] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 07:10:31,433] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:10:31,434] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 07:10:49,511] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:10:49,513] [INFO] - 127.0.0.1:51994 - "POST /run HTTP/1.1" 200
[2025-11-10 07:20:49,564] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 07:21:07,752] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:21:07,752] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 07:21:24,726] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:21:24,727] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 07:21:42,635] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:21:42,636] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 07:22:00,213] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:22:00,214] [INFO] - 127.0.0.1:52746 - "POST /run HTTP/1.1" 200
[2025-11-10 07:32:00,242] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 07:32:18,512] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:32:18,513] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 07:32:36,377] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:32:36,378] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 07:32:55,060] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:32:55,061] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 07:33:12,316] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:33:12,317] [INFO] - 127.0.0.1:53489 - "POST /run HTTP/1.1" 200
[2025-11-10 07:43:12,345] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 07:43:30,498] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:43:30,499] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 07:43:47,889] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:43:47,890] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 07:44:05,294] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:44:05,295] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 07:44:22,610] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:44:22,611] [INFO] - 127.0.0.1:54273 - "POST /run HTTP/1.1" 200
[2025-11-10 07:54:22,668] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 07:54:40,445] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:54:40,445] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 07:54:58,421] [INFO] - saved audit for https://www.google.com/
[2025-11-10 07:54:58,422] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 07:55:16,138] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:55:16,139] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 07:55:33,994] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 07:55:33,995] [INFO] - 127.0.0.1:55047 - "POST /run HTTP/1.1" 200
[2025-11-10 08:05:34,020] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 08:05:52,166] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:05:52,166] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 08:06:10,277] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:06:10,278] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 08:06:28,041] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 08:06:28,043] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 08:06:41,838] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-5c608c05-f63a-4d0d-b662-1c10611c76d7.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-10 08:06:42,488] [INFO] - 127.0.0.1:55811 - "POST /run HTTP/1.1" 500
[2025-11-10 08:06:42,489] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 08:16:42,996] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 08:17:01,578] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:17:01,579] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 08:17:18,870] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:17:18,871] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 08:17:36,196] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 08:17:36,197] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 08:17:53,600] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 08:17:53,602] [INFO] - 127.0.0.1:56598 - "POST /run HTTP/1.1" 200
[2025-11-10 08:27:53,631] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 08:28:11,839] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:28:11,839] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 08:28:28,209] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:28:28,210] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 08:28:45,045] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 08:28:45,046] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 08:29:03,184] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 08:29:03,186] [INFO] - 127.0.0.1:57345 - "POST /run HTTP/1.1" 200
[2025-11-10 08:39:03,208] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 08:39:20,747] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:39:20,747] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 08:39:38,846] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:39:38,847] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 08:39:56,368] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 08:39:56,369] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 08:40:13,861] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 08:40:13,863] [INFO] - 127.0.0.1:58097 - "POST /run HTTP/1.1" 200
[2025-11-10 08:50:13,888] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 08:50:32,744] [INFO] - saved audit for https://www.google.com/
[2025-11-10 08:50:32,745] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 08:50:45,404] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-44c2b126-1fc1-4bcb-8068-04138ef74071.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 08:50:45,976] [INFO] - 127.0.0.1:58882 - "POST /run HTTP/1.1" 500
[2025-11-10 08:50:45,977] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 09:00:46,482] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 09:01:05,612] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:01:05,612] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 09:01:23,369] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:01:23,374] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 09:01:40,356] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:01:40,357] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 09:01:57,698] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:01:57,700] [INFO] - 127.0.0.1:59559 - "POST /run HTTP/1.1" 200
[2025-11-10 09:11:57,703] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 09:12:15,763] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:12:15,763] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 09:12:33,198] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:12:33,199] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 09:12:50,145] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:12:50,146] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 09:13:07,924] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:13:07,925] [INFO] - 127.0.0.1:60430 - "POST /run HTTP/1.1" 200
[2025-11-10 09:23:07,988] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 09:23:29,601] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:23:29,602] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 09:23:47,287] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:23:47,288] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 09:24:05,623] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-3220785f-5b4f-4d17-a04f-d277d5e5be32.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 09:24:06,299] [INFO] - 127.0.0.1:61212 - "POST /run HTTP/1.1" 500
[2025-11-10 09:24:06,300] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 09:34:06,918] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 09:34:26,929] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:34:26,930] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 09:34:44,392] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:34:44,394] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 09:35:01,445] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:35:01,446] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 09:35:18,316] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:35:18,318] [INFO] - 127.0.0.1:61939 - "POST /run HTTP/1.1" 200
[2025-11-10 09:45:18,372] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 09:45:39,291] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:45:39,292] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 09:45:56,034] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:45:56,036] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 09:46:14,344] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:46:14,345] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 09:46:32,885] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:46:32,887] [INFO] - 127.0.0.1:62795 - "POST /run HTTP/1.1" 200
[2025-11-10 09:56:32,901] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 09:56:51,246] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:56:51,247] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 09:57:07,759] [INFO] - saved audit for https://www.google.com/
[2025-11-10 09:57:07,760] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 09:57:26,603] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:57:26,604] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 09:57:44,962] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 09:57:44,965] [INFO] - 127.0.0.1:63555 - "POST /run HTTP/1.1" 200
[2025-11-10 10:07:44,959] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 10:08:03,049] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:08:03,051] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 10:08:19,602] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:08:19,604] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 10:08:36,963] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:08:36,965] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 10:08:53,223] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:08:53,225] [INFO] - 127.0.0.1:64322 - "POST /run HTTP/1.1" 200
[2025-11-10 10:18:53,252] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 10:19:12,529] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:19:12,530] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 10:19:30,541] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:19:30,543] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 10:20:05,325] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:20:05,326] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 10:20:22,782] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:20:22,784] [INFO] - 127.0.0.1:65068 - "POST /run HTTP/1.1" 200
[2025-11-10 10:30:22,816] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 10:30:40,876] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:30:40,877] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 10:30:59,332] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:30:59,334] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 10:31:19,409] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:31:19,410] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 10:31:37,939] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:31:37,942] [INFO] - 127.0.0.1:49542 - "POST /run HTTP/1.1" 200
[2025-11-10 10:41:37,987] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 10:41:56,165] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:41:56,166] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 10:42:13,847] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:42:13,848] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 10:42:31,958] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:42:31,959] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 10:42:50,168] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:42:50,171] [INFO] - 127.0.0.1:50322 - "POST /run HTTP/1.1" 200
[2025-11-10 10:52:50,197] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 10:53:09,247] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:53:09,248] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 10:53:27,407] [INFO] - saved audit for https://www.google.com/
[2025-11-10 10:53:27,408] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 10:53:44,334] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:53:44,335] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 10:54:03,582] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 10:54:03,584] [INFO] - 127.0.0.1:51084 - "POST /run HTTP/1.1" 200
[2025-11-10 11:04:03,620] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 11:04:21,990] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:04:21,991] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 11:04:41,359] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:04:41,359] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 11:04:58,730] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:04:58,731] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 11:05:15,995] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:05:15,997] [INFO] - 127.0.0.1:52013 - "POST /run HTTP/1.1" 200
[2025-11-10 11:15:16,016] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 11:15:34,474] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:15:34,475] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 11:15:52,871] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:15:52,873] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 11:16:11,579] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:16:11,580] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 11:16:30,413] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:16:30,415] [INFO] - 127.0.0.1:52893 - "POST /run HTTP/1.1" 200
[2025-11-10 11:26:30,450] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 11:26:49,462] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:26:49,462] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 11:27:07,731] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:27:07,731] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 11:27:25,320] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:27:25,321] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 11:27:43,646] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:27:43,648] [INFO] - 127.0.0.1:53766 - "POST /run HTTP/1.1" 200
[2025-11-10 11:37:43,672] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 11:38:02,004] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:38:02,005] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 11:38:19,396] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:38:19,397] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 11:38:38,246] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:38:38,247] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 11:38:53,310] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-f5a28403-e6a5-429c-8af3-5670fd6561f6.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-10 11:38:53,963] [INFO] - 127.0.0.1:54506 - "POST /run HTTP/1.1" 500
[2025-11-10 11:38:53,964] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 11:48:54,552] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 11:49:13,098] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:49:13,099] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 11:49:31,047] [INFO] - saved audit for https://www.google.com/
[2025-11-10 11:49:31,048] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 11:49:48,000] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:49:48,001] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 11:50:06,674] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 11:50:06,677] [INFO] - 127.0.0.1:55514 - "POST /run HTTP/1.1" 200
[2025-11-10 12:00:06,730] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 12:00:24,777] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:00:24,778] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 12:00:39,610] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-60dcc151-11b5-47f7-a4fc-f61707e422af.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 12:00:40,311] [INFO] - 127.0.0.1:56547 - "POST /run HTTP/1.1" 500
[2025-11-10 12:00:40,312] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 12:10:40,940] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 12:10:58,957] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:10:58,957] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 12:11:15,857] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:11:15,858] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 12:11:34,131] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:11:34,132] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 12:11:53,409] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:11:53,410] [INFO] - 127.0.0.1:57481 - "POST /run HTTP/1.1" 200
[2025-11-10 12:21:53,442] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 12:22:12,041] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:22:12,042] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 12:22:30,364] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:22:30,365] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 12:22:49,193] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:22:49,194] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 12:23:04,743] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-459cda1e-fafa-4f6a-b1ff-8362ea6b9efd.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-10 12:23:05,468] [INFO] - 127.0.0.1:58416 - "POST /run HTTP/1.1" 500
[2025-11-10 12:23:05,469] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 12:33:06,173] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 12:33:25,646] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:33:25,647] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 12:33:43,784] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:33:43,785] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 12:34:00,970] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:34:00,971] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 12:34:18,988] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:34:18,990] [INFO] - 127.0.0.1:59415 - "POST /run HTTP/1.1" 200
[2025-11-10 12:44:19,045] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 12:44:37,483] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:44:37,484] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 12:44:54,684] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:44:54,685] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 12:45:12,567] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:45:12,568] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 12:45:31,346] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:45:31,348] [INFO] - 127.0.0.1:60336 - "POST /run HTTP/1.1" 200
[2025-11-10 12:55:31,381] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 12:55:48,767] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:55:48,768] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 12:56:06,874] [INFO] - saved audit for https://www.google.com/
[2025-11-10 12:56:06,876] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 12:56:24,198] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:56:24,199] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 12:56:42,272] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 12:56:42,274] [INFO] - 127.0.0.1:61341 - "POST /run HTTP/1.1" 200
[2025-11-10 13:06:42,253] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 13:07:00,975] [INFO] - saved audit for https://www.google.com/
[2025-11-10 13:07:00,976] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 13:07:19,396] [INFO] - saved audit for https://www.google.com/
[2025-11-10 13:07:19,397] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 13:07:38,210] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 13:07:38,211] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 13:07:56,300] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 13:07:56,302] [INFO] - 127.0.0.1:62309 - "POST /run HTTP/1.1" 200
[2025-11-10 13:17:56,324] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 13:18:15,244] [INFO] - saved audit for https://www.google.com/
[2025-11-10 13:18:15,244] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 13:18:33,370] [INFO] - saved audit for https://www.google.com/
[2025-11-10 13:18:33,371] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 13:18:50,738] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 13:18:50,739] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 13:19:09,057] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 13:19:09,058] [INFO] - 127.0.0.1:63299 - "POST /run HTTP/1.1" 200
[2025-11-10 13:29:09,089] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 13:29:28,480] [INFO] - saved audit for https://www.google.com/
[2025-11-10 13:29:28,480] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 13:29:46,061] [INFO] - saved audit for https://www.google.com/
[2025-11-10 13:29:46,062] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 13:30:04,029] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 13:30:04,030] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 13:30:21,541] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 13:30:21,543] [INFO] - 127.0.0.1:64416 - "POST /run HTTP/1.1" 200
[2025-11-10 13:40:21,562] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 13:40:39,644] [INFO] - saved audit for https://www.google.com/
[2025-11-10 13:40:39,645] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 13:40:57,214] [INFO] - saved audit for https://www.google.com/
[2025-11-10 13:40:57,216] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 13:41:16,297] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 13:41:16,298] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 13:41:34,862] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 13:41:34,864] [INFO] - 127.0.0.1:65520 - "POST /run HTTP/1.1" 200
[2025-11-10 14:48:12,136] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 14:48:32,066] [INFO] - saved audit for https://www.google.com/
[2025-11-10 14:48:32,067] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 14:48:50,381] [INFO] - saved audit for https://www.google.com/
[2025-11-10 14:48:50,381] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 14:49:08,355] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 14:49:08,356] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 14:49:28,758] [INFO] - 127.0.0.1:50893 - "GET /docs HTTP/1.1" 200
[2025-11-10 14:49:28,760] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 14:49:28,760] [INFO] - 127.0.0.1:50636 - "POST /run HTTP/1.1" 200
[2025-11-10 14:49:29,048] [INFO] - 127.0.0.1:50893 - "GET /openapi.json HTTP/1.1" 200
[2025-11-10 14:50:26,528] [INFO] - 127.0.0.1:51030 - "GET /pages/ HTTP/1.1" 200
[2025-11-10 14:51:21,172] [INFO] - 127.0.0.1:51106 - "GET /pages/ HTTP/1.1" 200
[2025-11-10 14:51:45,857] [INFO] - 127.0.0.1:51133 - "PUT /pages/69022dd34076aa8211308a1b HTTP/1.1" 422
[2025-11-10 14:51:51,072] [INFO] - 127.0.0.1:51139 - "PUT /pages/69022dd34076aa8211308a1b HTTP/1.1" 200
[2025-11-10 14:52:02,757] [INFO] - 127.0.0.1:51159 - "PUT /pages/69022dd34076aa8211308a1b HTTP/1.1" 200
[2025-11-10 14:59:28,793] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 14:59:45,214] [INFO] - saved audit for https://www.google.com/
[2025-11-10 14:59:45,215] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 15:00:03,134] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:00:03,135] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 15:00:21,539] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 15:00:21,540] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 15:00:39,114] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 15:00:39,115] [INFO] - 127.0.0.1:51643 - "POST /run HTTP/1.1" 200
[2025-11-10 15:10:39,128] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 15:10:57,100] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:10:57,101] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 15:11:11,488] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-77090b19-55cd-4a24-8fad-74a8ae4ad22e.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 15:11:12,065] [INFO] - 127.0.0.1:52445 - "POST /run HTTP/1.1" 500
[2025-11-10 15:11:12,066] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 15:21:12,587] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 15:21:32,789] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:21:32,789] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 15:21:47,316] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-a8424c66-8857-484d-b244-2f2f3b90256f.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 15:21:47,910] [INFO] - 127.0.0.1:53160 - "POST /run HTTP/1.1" 500
[2025-11-10 15:21:47,910] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 15:31:48,406] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 15:32:07,279] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:32:07,280] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 15:32:25,064] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:32:25,066] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 15:32:42,961] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 15:32:42,962] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 15:32:59,307] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 15:32:59,308] [INFO] - 127.0.0.1:54101 - "POST /run HTTP/1.1" 200
[2025-11-10 15:42:59,346] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 15:43:18,577] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:43:18,577] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 15:43:35,935] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:43:35,936] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 15:43:54,402] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 15:43:54,402] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 15:44:13,759] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 15:44:13,760] [INFO] - 127.0.0.1:55237 - "POST /run HTTP/1.1" 200
[2025-11-10 15:54:13,783] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 15:54:31,908] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:54:31,908] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 15:54:49,942] [INFO] - saved audit for https://www.google.com/
[2025-11-10 15:54:49,943] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 15:55:07,055] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 15:55:07,056] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 15:55:23,902] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 15:55:23,903] [INFO] - 127.0.0.1:56341 - "POST /run HTTP/1.1" 200
[2025-11-10 16:05:23,968] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 16:05:44,051] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:05:44,052] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 16:05:58,717] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-4cc369a1-e093-43b8-887d-ffb004d1444a.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 16:05:59,343] [INFO] - 127.0.0.1:57260 - "POST /run HTTP/1.1" 500
[2025-11-10 16:05:59,344] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 16:15:59,890] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 16:16:18,618] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:16:18,618] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 16:16:37,269] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:16:37,271] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 16:16:55,618] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 16:16:55,618] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 16:17:15,077] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 16:17:15,081] [INFO] - 127.0.0.1:58167 - "POST /run HTTP/1.1" 200
[2025-11-10 16:27:15,113] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 16:27:34,106] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:27:34,107] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 16:27:51,177] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:27:51,177] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 16:28:10,313] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 16:28:10,313] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 16:28:27,346] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 16:28:27,347] [INFO] - 127.0.0.1:59138 - "POST /run HTTP/1.1" 200
[2025-11-10 16:37:16,522] [INFO] - 127.0.0.1:60131 - "GET / HTTP/1.1" 200
[2025-11-10 16:38:27,402] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 16:38:46,265] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:38:46,266] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 16:39:03,614] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:39:03,615] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 16:39:17,340] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-268228e7-2329-481e-846d-f01ac897795a.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 16:39:17,922] [INFO] - 127.0.0.1:60276 - "POST /run HTTP/1.1" 500
[2025-11-10 16:39:17,923] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 16:49:18,500] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 16:49:36,329] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:49:36,329] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 16:49:53,717] [INFO] - saved audit for https://www.google.com/
[2025-11-10 16:49:53,719] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 16:50:10,985] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 16:50:10,985] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 16:50:27,647] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 16:50:27,648] [INFO] - 127.0.0.1:61388 - "POST /run HTTP/1.1" 200
[2025-11-10 17:00:27,698] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 17:00:45,938] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:00:45,939] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 17:01:03,052] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:01:03,055] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 17:01:17,085] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-c7c2a7d9-19b2-4a6b-a22b-35278b40f550.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 17:01:17,741] [INFO] - 127.0.0.1:62140 - "POST /run HTTP/1.1" 500
[2025-11-10 17:01:17,742] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 17:11:18,214] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 17:11:37,098] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:11:37,098] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 17:11:54,818] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:11:54,819] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 17:12:12,851] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 17:12:12,851] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 17:12:31,687] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 17:12:31,689] [INFO] - 127.0.0.1:62862 - "POST /run HTTP/1.1" 200
[2025-11-10 17:22:31,736] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 17:22:50,603] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:22:50,604] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 17:23:08,016] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:23:08,017] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 17:23:24,973] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 17:23:24,973] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 17:23:42,381] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 17:23:42,382] [INFO] - 127.0.0.1:63632 - "POST /run HTTP/1.1" 200
[2025-11-10 17:33:42,424] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 17:34:02,042] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:34:02,043] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 17:34:19,387] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:34:19,388] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 17:34:36,839] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 17:34:36,839] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 17:34:55,874] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 17:34:55,876] [INFO] - 127.0.0.1:64419 - "POST /run HTTP/1.1" 200
[2025-11-10 17:44:55,912] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 17:45:14,886] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:45:14,886] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 17:45:32,877] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:45:32,877] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 17:45:50,753] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 17:45:50,754] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 17:46:08,058] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 17:46:08,060] [INFO] - 127.0.0.1:65269 - "POST /run HTTP/1.1" 200
[2025-11-10 17:56:08,087] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 17:56:26,632] [INFO] - saved audit for https://www.google.com/
[2025-11-10 17:56:26,633] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 17:56:40,718] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-bccd0cbb-851c-47d3-9744-b4624e0e741b.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 17:56:41,343] [INFO] - 127.0.0.1:49723 - "POST /run HTTP/1.1" 500
[2025-11-10 17:56:41,343] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 18:06:41,889] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 18:06:59,752] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:06:59,753] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 18:07:17,303] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:07:17,305] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 18:07:34,418] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:07:34,419] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 18:07:51,887] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:07:51,890] [INFO] - 127.0.0.1:50401 - "POST /run HTTP/1.1" 200
[2025-11-10 18:17:51,920] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 18:18:10,789] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:18:10,789] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 18:18:28,300] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:18:28,302] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 18:18:46,217] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:18:46,219] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 18:19:04,552] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:19:04,554] [INFO] - 127.0.0.1:51243 - "POST /run HTTP/1.1" 200
[2025-11-10 18:29:04,578] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 18:29:22,835] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:29:22,836] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 18:29:39,217] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:29:39,218] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 18:29:55,995] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:29:55,996] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 18:30:13,143] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:30:13,145] [INFO] - 127.0.0.1:52052 - "POST /run HTTP/1.1" 200
[2025-11-10 18:40:13,177] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 18:40:31,647] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:40:31,648] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 18:40:49,542] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:40:49,543] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 18:41:06,783] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:41:06,783] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 18:41:24,310] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:41:24,311] [INFO] - 127.0.0.1:52846 - "POST /run HTTP/1.1" 200
[2025-11-10 18:51:24,342] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 18:51:42,556] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:51:42,556] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 18:51:59,888] [INFO] - saved audit for https://www.google.com/
[2025-11-10 18:51:59,889] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 18:52:16,702] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:52:16,703] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 18:52:35,546] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 18:52:35,548] [INFO] - 127.0.0.1:53689 - "POST /run HTTP/1.1" 200
[2025-11-10 19:02:35,576] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 19:02:53,717] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:02:53,717] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 19:03:11,192] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:03:11,194] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 19:03:28,857] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:03:28,858] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 19:03:46,260] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:03:46,262] [INFO] - 127.0.0.1:54459 - "POST /run HTTP/1.1" 200
[2025-11-10 19:13:46,287] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 19:14:05,497] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:14:05,498] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 19:14:22,712] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:14:22,713] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 19:14:41,979] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:14:41,980] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 19:15:40,385] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:15:40,386] [INFO] - 127.0.0.1:55276 - "POST /run HTTP/1.1" 200
[2025-11-10 19:25:40,410] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 19:25:58,336] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:25:58,337] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 19:26:16,131] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:26:16,132] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 19:26:33,314] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:26:33,315] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 19:26:54,955] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:26:54,957] [INFO] - 127.0.0.1:56128 - "POST /run HTTP/1.1" 200
[2025-11-10 19:36:55,001] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 19:37:14,326] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:37:14,326] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 19:37:31,926] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:37:31,928] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 19:37:49,920] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:37:49,921] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 19:38:08,223] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:38:08,224] [INFO] - 127.0.0.1:56896 - "POST /run HTTP/1.1" 200
[2025-11-10 19:48:08,252] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 19:48:26,803] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:48:26,803] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 19:48:44,203] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:48:44,205] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 19:49:01,067] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:49:01,067] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 19:49:38,284] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 19:49:38,287] [INFO] - 127.0.0.1:57748 - "POST /run HTTP/1.1" 200
[2025-11-10 19:59:38,310] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 19:59:58,527] [INFO] - saved audit for https://www.google.com/
[2025-11-10 19:59:58,528] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 20:00:15,441] [INFO] - saved audit for https://www.google.com/
[2025-11-10 20:00:15,442] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 20:00:33,130] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 20:00:33,131] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 20:00:50,610] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 20:00:50,611] [INFO] - 127.0.0.1:58555 - "POST /run HTTP/1.1" 200
[2025-11-10 20:10:50,666] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 20:11:13,765] [INFO] - saved audit for https://www.google.com/
[2025-11-10 20:11:13,765] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 20:11:29,084] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-2644cee4-0412-41c4-a65a-c8a27ae4a437.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-10 20:11:29,701] [INFO] - 127.0.0.1:60645 - "POST /run HTTP/1.1" 500
[2025-11-10 20:11:29,702] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 20:21:30,260] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 20:21:47,945] [INFO] - saved audit for https://www.google.com/
[2025-11-10 20:21:47,946] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 20:22:05,937] [INFO] - saved audit for https://www.google.com/
[2025-11-10 20:22:05,939] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 20:22:25,221] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 20:22:25,222] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 20:22:39,634] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://chatgpt.com/', '--output=json', '--output-path=/tmp/lighthouse-c39cddc0-d4b5-48ed-9ea7-6ee39cdf9e3c.json', '--quiet', '--chrome-flags=--headless', '--form-factor=mobile']' returned non-zero exit status 1.
[2025-11-10 20:22:40,194] [INFO] - 127.0.0.1:62448 - "POST /run HTTP/1.1" 500
[2025-11-10 20:22:40,196] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-10 20:32:40,911] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-10 20:32:59,856] [INFO] - saved audit for https://www.google.com/
[2025-11-10 20:32:59,857] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-10 20:33:17,915] [INFO] - saved audit for https://www.google.com/
[2025-11-10 20:33:17,916] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.desktop
[2025-11-10 20:33:37,231] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 20:33:37,232] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-10 20:33:55,060] [INFO] - saved audit for https://chatgpt.com/
[2025-11-10 20:33:55,062] [INFO] - 127.0.0.1:64292 - "POST /run HTTP/1.1" 200
[2025-11-11 19:27:11,763] [INFO] - Started server process [37001]
[2025-11-11 19:27:11,764] [INFO] - Waiting for application startup.
[2025-11-11 19:27:11,764] [INFO] - Starting up lightkeeper-service...
[2025-11-11 19:27:11,787] [INFO] - Connected to MongoDB Successfully
[2025-11-11 19:27:11,787] [INFO] - Application startup complete.
[2025-11-11 19:27:38,630] [INFO] - 127.0.0.1:56047 - "GET /docs HTTP/1.1" 200
[2025-11-11 19:27:42,158] [INFO] - 127.0.0.1:56059 - "GET /openapi.json HTTP/1.1" 200
[2025-11-11 19:27:47,575] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 19:27:55,210] [INFO] - 127.0.0.1:56110 - "GET / HTTP/1.1" 200
[2025-11-11 19:28:02,573] [INFO] - 127.0.0.1:56127 - "GET /docs HTTP/1.1" 200
[2025-11-11 19:28:02,621] [INFO] - 127.0.0.1:56127 - "GET /openapi.json HTTP/1.1" 200
[2025-11-11 19:28:03,320] [INFO] - 127.0.0.1:56127 - "GET /docs HTTP/1.1" 200
[2025-11-11 19:28:03,361] [INFO] - 127.0.0.1:56127 - "GET /openapi.json HTTP/1.1" 200
[2025-11-11 19:28:15,680] [INFO] - saved audit for https://www.google.com/
[2025-11-11 19:28:15,680] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 19:28:38,642] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-236a08d3-61e7-4cb8-91ff-db18851d760f.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 19:28:39,181] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 19:32:01,156] [INFO] - Shutting down
[2025-11-11 19:32:01,261] [INFO] - Waiting for application shutdown.
[2025-11-11 19:32:01,262] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 19:32:01,262] [INFO] - Application shutdown complete.
[2025-11-11 19:32:01,262] [INFO] - Finished server process [37001]
[2025-11-11 19:32:02,093] [INFO] - Started server process [37321]
[2025-11-11 19:32:02,094] [INFO] - Waiting for application startup.
[2025-11-11 19:32:02,094] [INFO] - Starting up lightkeeper-service...
[2025-11-11 19:32:02,108] [INFO] - Connected to MongoDB Successfully
[2025-11-11 19:32:02,108] [INFO] - Application startup complete.
[2025-11-11 19:32:05,811] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 19:32:30,638] [INFO] - saved audit for https://www.google.com/
[2025-11-11 19:32:30,639] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 19:32:33,662] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 19:32:55,396] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-7c442845-5cfc-4364-bb86-761ee25e23cc.json', '--chrome-flags="--no-sandbox --disable-gpu"', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 19:32:56,059] [INFO] - 127.0.0.1:56459 - "POST /run HTTP/1.1" 500
[2025-11-11 19:32:56,059] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 19:33:01,454] [INFO] - saved audit for https://www.google.com/
[2025-11-11 19:33:01,454] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 19:33:22,929] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-e710ca2a-47e0-46bf-a5ae-4eceae3b8501.json', '--chrome-flags="--no-sandbox --disable-gpu"', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 19:33:23,469] [INFO] - 127.0.0.1:56525 - "POST /run HTTP/1.1" 500
[2025-11-11 19:33:23,470] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 19:43:24,244] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 19:43:50,073] [INFO] - saved audit for https://www.google.com/
[2025-11-11 19:43:50,074] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 19:44:11,582] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-f4281807-82ed-49ff-89c7-69d6c320984f.json', '--chrome-flags="--no-sandbox --disable-gpu"', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 19:44:12,190] [INFO] - 127.0.0.1:57271 - "POST /run HTTP/1.1" 500
[2025-11-11 19:44:12,190] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 19:54:12,713] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 19:54:37,314] [INFO] - saved audit for https://www.google.com/
[2025-11-11 19:54:37,314] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 19:55:00,246] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-ae3e2d47-46ab-496c-b3ba-633a11040529.json', '--chrome-flags="--no-sandbox --disable-gpu"', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 19:55:00,770] [INFO] - 127.0.0.1:57903 - "POST /run HTTP/1.1" 500
[2025-11-11 19:55:00,770] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 20:02:20,225] [INFO] - Shutting down
[2025-11-11 20:02:20,330] [INFO] - Waiting for application shutdown.
[2025-11-11 20:02:20,331] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:02:20,332] [INFO] - Application shutdown complete.
[2025-11-11 20:02:20,333] [INFO] - Finished server process [37321]
[2025-11-11 20:02:21,315] [INFO] - Started server process [39924]
[2025-11-11 20:02:21,315] [INFO] - Waiting for application startup.
[2025-11-11 20:02:21,315] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:02:21,385] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:02:21,385] [INFO] - Application startup complete.
[2025-11-11 20:02:29,652] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 20:02:55,178] [INFO] - saved audit for https://www.google.com/
[2025-11-11 20:02:55,179] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 20:03:18,095] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-1a7b288b-8560-4940-8290-50db714ff2cf.json', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 20:03:18,659] [INFO] - 127.0.0.1:58464 - "POST /run HTTP/1.1" 500
[2025-11-11 20:03:18,660] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 20:05:12,550] [INFO] - Shutting down
[2025-11-11 20:05:12,654] [INFO] - Waiting for application shutdown.
[2025-11-11 20:05:12,655] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:05:12,655] [INFO] - Application shutdown complete.
[2025-11-11 20:05:12,656] [INFO] - Finished server process [39924]
[2025-11-11 20:05:13,498] [INFO] - Started server process [40240]
[2025-11-11 20:05:13,499] [INFO] - Waiting for application startup.
[2025-11-11 20:05:13,499] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:05:13,511] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:05:13,511] [INFO] - Application startup complete.
[2025-11-11 20:05:18,055] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 20:05:44,665] [INFO] - saved audit for https://www.google.com/
[2025-11-11 20:05:44,665] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 20:06:07,425] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-28f6d536-02d6-4030-9880-580722079eeb.json', '--chrome-flags="--headless=new --no-sandbox --disable-gpu --disable-dev-shm-usage --disable-setuid-sandbox --disable-software-rasterizer"', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 20:06:08,042] [INFO] - 127.0.0.1:58725 - "POST /run HTTP/1.1" 500
[2025-11-11 20:06:08,042] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 20:06:10,251] [INFO] - Shutting down
[2025-11-11 20:06:10,352] [INFO] - Waiting for application shutdown.
[2025-11-11 20:06:10,353] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:06:10,353] [INFO] - Application shutdown complete.
[2025-11-11 20:06:10,353] [INFO] - Finished server process [40240]
[2025-11-11 20:06:45,925] [INFO] - Started server process [40496]
[2025-11-11 20:06:45,925] [INFO] - Waiting for application startup.
[2025-11-11 20:06:45,926] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:06:45,940] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:06:45,940] [INFO] - Application startup complete.
[2025-11-11 20:06:49,468] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 20:07:20,126] [INFO] - saved audit for https://www.google.com/
[2025-11-11 20:07:20,126] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 20:07:43,451] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-f2e38c7c-ca90-41a3-a6ef-c254d98c31fe.json', '--chrome-flags="--headless=new --no-sandbox --disable-gpu --disable-dev-shm-usage --disable-setuid-sandbox --disable-software-rasterizer"', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 20:07:44,029] [INFO] - 127.0.0.1:58886 - "POST /run HTTP/1.1" 500
[2025-11-11 20:07:44,029] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 20:07:46,512] [INFO] - Shutting down
[2025-11-11 20:07:46,615] [INFO] - Waiting for application shutdown.
[2025-11-11 20:07:46,616] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:07:46,617] [INFO] - Application shutdown complete.
[2025-11-11 20:07:46,617] [INFO] - Finished server process [40496]
[2025-11-11 20:08:06,585] [INFO] - Started server process [40801]
[2025-11-11 20:08:06,585] [INFO] - Waiting for application startup.
[2025-11-11 20:08:06,585] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:08:06,599] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:08:06,599] [INFO] - Application startup complete.
[2025-11-11 20:08:08,605] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 20:08:36,822] [INFO] - saved audit for https://www.google.com/
[2025-11-11 20:08:36,822] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 20:08:58,469] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-26faf995-89ea-4688-a152-6dfaa41f413f.json', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 20:08:58,927] [INFO] - 127.0.0.1:59046 - "POST /run HTTP/1.1" 500
[2025-11-11 20:08:58,928] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 20:10:04,579] [INFO] - Shutting down
[2025-11-11 20:10:04,682] [INFO] - Waiting for application shutdown.
[2025-11-11 20:10:04,683] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:10:04,683] [INFO] - Application shutdown complete.
[2025-11-11 20:10:04,683] [INFO] - Finished server process [40801]
[2025-11-11 20:10:05,378] [INFO] - Started server process [40942]
[2025-11-11 20:10:05,378] [INFO] - Waiting for application startup.
[2025-11-11 20:10:05,378] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:10:05,390] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:10:05,390] [INFO] - Application startup complete.
[2025-11-11 20:17:16,458] [INFO] - Shutting down
[2025-11-11 20:17:16,561] [INFO] - Waiting for application shutdown.
[2025-11-11 20:17:16,562] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:17:16,563] [INFO] - Application shutdown complete.
[2025-11-11 20:17:16,563] [INFO] - Finished server process [40942]
[2025-11-11 20:17:17,487] [INFO] - Started server process [41396]
[2025-11-11 20:17:17,487] [INFO] - Waiting for application startup.
[2025-11-11 20:17:17,487] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:17:17,498] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:17:17,498] [INFO] - Application startup complete.
[2025-11-11 20:17:21,726] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 20:17:49,012] [INFO] - saved audit for https://www.google.com/
[2025-11-11 20:17:49,013] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 20:18:11,836] [ERROR] - lighthouse cli did not work, error: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-7605d5b3-5941-4db9-bf5b-87c75436f306.json', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 20:18:12,526] [INFO] - 127.0.0.1:59807 - "POST /run HTTP/1.1" 500
[2025-11-11 20:18:12,527] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 20:18:51,669] [INFO] - Shutting down
[2025-11-11 20:18:51,772] [INFO] - Waiting for application shutdown.
[2025-11-11 20:18:51,772] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:18:51,773] [INFO] - Application shutdown complete.
[2025-11-11 20:18:51,773] [INFO] - Finished server process [41396]
[2025-11-11 20:20:17,531] [INFO] - Started server process [41801]
[2025-11-11 20:20:17,532] [INFO] - Waiting for application startup.
[2025-11-11 20:20:17,532] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:20:17,544] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:20:17,544] [INFO] - Application startup complete.
[2025-11-11 20:20:24,520] [INFO] - Shutting down
[2025-11-11 20:20:24,623] [INFO] - Waiting for application shutdown.
[2025-11-11 20:20:24,623] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:20:24,624] [INFO] - Application shutdown complete.
[2025-11-11 20:20:24,624] [INFO] - Finished server process [41801]
[2025-11-11 20:20:25,497] [INFO] - Started server process [41813]
[2025-11-11 20:20:25,497] [INFO] - Waiting for application startup.
[2025-11-11 20:20:25,497] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:20:25,507] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:20:25,508] [INFO] - Application startup complete.
[2025-11-11 20:20:27,908] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 20:20:53,954] [INFO] - saved audit for https://www.google.com/
[2025-11-11 20:20:53,954] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 20:21:17,008] [INFO] - 127.0.0.1:60060 - "POST /run HTTP/1.1" 500
[2025-11-11 20:21:17,008] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/lighthouse.py", line 37, in run_lighthouse
    subprocess.run(command, check=True)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/subprocess.py", line 571, in run
    raise CalledProcessError(retcode, process.args,
subprocess.CalledProcessError: Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-310ab3c9-7d93-4b51-a983-076f8f5ded61.json', '--quiet', '--preset=desktop']' returned non-zero exit status 1.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 24, in run_audits
    raw = run_lighthouse(page)
          ^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/lighthouse.py", line 42, in run_lighthouse
    logger.error("lighthouse command did not work, find details here -> ", e)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1568, in error
    self._log(ERROR, msg, args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1684, in _log
    self.handle(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1700, in handle
    self.callHandlers(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1762, in callHandlers
    hdlr.handle(record)
  File "/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/logging/__init__.py", line 1028, in handle
    self.emit(record)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/core/slack_handler.py", line 13, in emit
    text = f"üö® Error alert from lightkeeper service \n\nüìÑ File:{record.filename}\n```‚ö†Ô∏è Error:{record.message}```\nüïí Timestamp:{record.asctime}"
                                                                                                 ^^^^^^^^^^^^^^
AttributeError: 'LogRecord' object has no attribute 'message'
[2025-11-11 20:21:31,655] [INFO] - Shutting down
[2025-11-11 20:21:31,758] [INFO] - Waiting for application shutdown.
[2025-11-11 20:21:31,759] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:21:31,759] [INFO] - Application shutdown complete.
[2025-11-11 20:21:31,759] [INFO] - Finished server process [41813]
[2025-11-11 20:21:32,485] [INFO] - Started server process [41998]
[2025-11-11 20:21:32,485] [INFO] - Waiting for application startup.
[2025-11-11 20:21:32,485] [INFO] - Starting up lightkeeper-service...
[2025-11-11 20:21:32,496] [INFO] - Connected to MongoDB Successfully
[2025-11-11 20:21:32,498] [INFO] - Application startup complete.
[2025-11-11 20:21:37,933] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.mobile
[2025-11-11 20:22:06,824] [INFO] - saved audit for https://www.google.com/
[2025-11-11 20:22:06,825] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 20:22:28,348] [ERROR] - lighthouse command did not work, find details here -> Command '['lighthouse', 'https://www.google.com/', '--output=json', '--output-path=/tmp/lighthouse-d2337474-5c86-47ce-9879-8741698b7765.json', '--quiet', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-11 20:22:28,898] [INFO] - 127.0.0.1:60203 - "POST /run HTTP/1.1" 500
[2025-11-11 20:22:28,898] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/.venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/services/audits.py", line 25, in run_audits
    page_score = parse_page_score(raw, page).model_dump(by_alias=True)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/vishruth.reddy/Projects/lightkeeper-service/app/models/page_score.py", line 27, in parse_page_score
    metrics_dict["first_contentful_paint"] = int(data["audits"]["first-contentful-paint"]["numericValue"])
                                                 ~~~~^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
[2025-11-11 20:23:37,704] [INFO] - Shutting down
[2025-11-11 20:23:37,809] [INFO] - Waiting for application shutdown.
[2025-11-11 20:23:37,810] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 20:23:37,811] [INFO] - Application shutdown complete.
[2025-11-11 20:23:37,811] [INFO] - Finished server process [41998]
[2025-11-11 22:20:39,924] [INFO] - Started server process [28592]
[2025-11-11 22:20:39,925] [INFO] - Waiting for application startup.
[2025-11-11 22:20:39,925] [INFO] - Starting up lightkeeper-service...
[2025-11-11 22:20:39,956] [INFO] - Connected to MongoDB Successfully
[2025-11-11 22:20:39,956] [INFO] - Application startup complete.
[2025-11-11 22:20:53,634] [INFO] - 127.0.0.1:43612 - "GET /docs HTTP/1.1" 200
[2025-11-11 22:20:53,972] [INFO] - 127.0.0.1:43612 - "GET /openapi.json HTTP/1.1" 200
[2025-11-11 22:20:59,939] [INFO] - 127.0.0.1:54786 - "GET / HTTP/1.1" 200
[2025-11-11 22:21:07,425] [INFO] - 127.0.0.1:40918 - "GET /pages/ HTTP/1.1" 200
[2025-11-11 22:21:12,563] [INFO] - 127.0.0.1:40924 - "POST /run HTTP/1.1" 404
[2025-11-11 22:22:05,877] [INFO] - 127.0.0.1:47850 - "POST /pages/ HTTP/1.1" 200
[2025-11-11 22:22:12,662] [INFO] - 127.0.0.1:47860 - "GET /pages/ HTTP/1.1" 200
[2025-11-11 22:22:19,605] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 22:22:19,606] [ERROR] - lighthouse command did not work, find details here -> [Errno 2] No such file or directory: 'lighthouse'
[2025-11-11 22:22:20,527] [INFO] - 127.0.0.1:40232 - "POST /run HTTP/1.1" 500
[2025-11-11 22:22:20,528] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/home/vishruth/Projects/lightkeeper-service/app/services/audits.py", line 24, in run_audits
    raw = run_lighthouse(page)
          ^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/app/services/lighthouse.py", line 44, in run_lighthouse
    os.remove(output_path)
FileNotFoundError: [Errno 2] No such file or directory: '/tmp/lighthouse-83b620f3-9ef5-4bc9-9875-615c8357ea6b.json'
[2025-11-11 22:22:31,314] [INFO] - Shutting down
[2025-11-11 22:22:31,415] [INFO] - Waiting for application shutdown.
[2025-11-11 22:22:31,415] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 22:22:31,416] [INFO] - Application shutdown complete.
[2025-11-11 22:22:31,416] [INFO] - Finished server process [28592]
[2025-11-11 22:32:50,042] [INFO] - Started server process [11450]
[2025-11-11 22:32:50,042] [INFO] - Waiting for application startup.
[2025-11-11 22:32:50,042] [INFO] - Starting up lightkeeper-service...
[2025-11-11 22:32:55,061] [ERROR] - Could not connect to MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69136c3a088dc212edaee6b8, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
[2025-11-11 22:32:55,814] [ERROR] - Traceback (most recent call last):
  File "/home/vishruth/Projects/lightkeeper-service/app/db/mongo.py", line 13, in init_mongo
    await _client.server_info()
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 2311, in server_info
    self.admin.command(
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/database.py", line 931, in command
    with self._client._conn_for_reads(read_preference, session, operation=command_name) as (
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1885, in _conn_for_reads
    server = self._select_server(read_preference, session, operation)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1833, in _select_server
    server = topology.select_server(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 409, in select_server
    server = self._select_server(
             ^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 387, in _select_server
    servers = self.select_servers(
              ^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 294, in select_servers
    server_descriptions = self._select_servers_loop(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 344, in _select_servers_loop
    raise ServerSelectionTimeoutError(
pymongo.errors.ServerSelectionTimeoutError: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69136c3a088dc212edaee6b8, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/routing.py", line 677, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/app/main.py", line 13, in lifespan
    await init_mongo()
  File "/home/vishruth/Projects/lightkeeper-service/app/db/mongo.py", line 20, in init_mongo
    raise RuntimeError(f"Could not connect to MongoDB: {e}")
RuntimeError: Could not connect to MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69136c3a088dc212edaee6b8, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>

[2025-11-11 22:32:56,838] [ERROR] - Application startup failed. Exiting.
[2025-11-11 22:33:30,393] [INFO] - Started server process [12173]
[2025-11-11 22:33:30,394] [INFO] - Waiting for application startup.
[2025-11-11 22:33:30,394] [INFO] - Starting up lightkeeper-service...
[2025-11-11 22:33:30,403] [INFO] - Connected to MongoDB Successfully
[2025-11-11 22:33:30,403] [INFO] - Application startup complete.
[2025-11-11 22:33:34,032] [INFO] - 127.0.0.1:41102 - "GET /docs HTTP/1.1" 200
[2025-11-11 22:33:34,274] [INFO] - 127.0.0.1:41102 - "GET /openapi.json HTTP/1.1" 200
[2025-11-11 22:33:39,398] [INFO] - lighthouse running for https://www.google.com/ with DeviceType.desktop
[2025-11-11 22:33:54,068] [INFO] - saved audit for https://www.google.com/
[2025-11-11 22:33:54,069] [INFO] - 127.0.0.1:41114 - "POST /run HTTP/1.1" 200
[2025-11-11 22:34:01,661] [INFO] - 127.0.0.1:60282 - "GET /pages/ HTTP/1.1" 200
[2025-11-11 22:34:10,038] [INFO] - 127.0.0.1:34726 - "GET /audits/691369b5bc1d1f4461b12f29 HTTP/1.1" 200
[2025-11-11 22:35:52,525] [INFO] - Shutting down
[2025-11-11 22:35:52,625] [INFO] - Waiting for application shutdown.
[2025-11-11 22:35:52,626] [INFO] - Shutting down lightkeeper-service...
[2025-11-11 22:35:52,626] [INFO] - Application shutdown complete.
[2025-11-11 22:35:52,626] [INFO] - Finished server process [12173]
[2025-11-21 20:47:10,067] [INFO] - Started server process [6583]
[2025-11-21 20:47:10,067] [INFO] - Waiting for application startup.
[2025-11-21 20:47:10,067] [INFO] - Starting up lightkeeper-service...
[2025-11-21 20:47:15,085] [ERROR] - Could not connect to MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 692082769c8315288c490817, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
[2025-11-21 20:47:15,446] [ERROR] - Traceback (most recent call last):
  File "/home/vishruth/Projects/lightkeeper-service/app/db/mongo.py", line 13, in init_mongo
    await _client.server_info()
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 2311, in server_info
    self.admin.command(
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/database.py", line 931, in command
    with self._client._conn_for_reads(read_preference, session, operation=command_name) as (
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1885, in _conn_for_reads
    server = self._select_server(read_preference, session, operation)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1833, in _select_server
    server = topology.select_server(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 409, in select_server
    server = self._select_server(
             ^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 387, in _select_server
    servers = self.select_servers(
              ^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 294, in select_servers
    server_descriptions = self._select_servers_loop(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 344, in _select_servers_loop
    raise ServerSelectionTimeoutError(
pymongo.errors.ServerSelectionTimeoutError: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 692082769c8315288c490817, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/vishruth/Projects/lightkeeper-service/venv/lib/python3.12/site-packages/starlette/routing.py", line 677, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/vishruth/Projects/lightkeeper-service/app/main.py", line 13, in lifespan
    await init_mongo()
  File "/home/vishruth/Projects/lightkeeper-service/app/db/mongo.py", line 20, in init_mongo
    raise RuntimeError(f"Could not connect to MongoDB: {e}")
RuntimeError: Could not connect to MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 692082769c8315288c490817, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>

[2025-11-21 20:47:15,748] [ERROR] - Application startup failed. Exiting.
[2025-11-21 17:20:43,313] [INFO] - Started server process [8]
[2025-11-21 17:20:43,313] [INFO] - Waiting for application startup.
[2025-11-21 17:20:43,313] [INFO] - Starting up lightkeeper-service...
[2025-11-21 17:20:48,333] [ERROR] - Could not connect to MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69209f6bcdf0254ddfa85c3a, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
[2025-11-21 17:20:49,377] [ERROR] - Traceback (most recent call last):
  File "/app/app/db/mongo.py", line 13, in init_mongo
    await _client.server_info()
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 2311, in server_info
    self.admin.command(
  File "/app/venv/lib/python3.12/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/database.py", line 931, in command
    with self._client._conn_for_reads(read_preference, session, operation=command_name) as (
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1885, in _conn_for_reads
    server = self._select_server(read_preference, session, operation)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1833, in _select_server
    server = topology.select_server(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 409, in select_server
    server = self._select_server(
             ^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 387, in _select_server
    servers = self.select_servers(
              ^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 294, in select_servers
    server_descriptions = self._select_servers_loop(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 344, in _select_servers_loop
    raise ServerSelectionTimeoutError(
pymongo.errors.ServerSelectionTimeoutError: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69209f6bcdf0254ddfa85c3a, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 677, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/main.py", line 13, in lifespan
    await init_mongo()
  File "/app/app/db/mongo.py", line 20, in init_mongo
    raise RuntimeError(f"Could not connect to MongoDB: {e}")
RuntimeError: Could not connect to MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69209f6bcdf0254ddfa85c3a, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>

[2025-11-21 17:20:50,403] [ERROR] - Application startup failed. Exiting.
[2025-11-21 17:22:08,272] [INFO] - Started server process [8]
[2025-11-21 17:22:08,272] [INFO] - Waiting for application startup.
[2025-11-21 17:22:08,272] [INFO] - Starting up lightkeeper-service...
[2025-11-21 17:22:13,293] [ERROR] - Could not connect to MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69209fc0b046a72c9ec12ce7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>
[2025-11-21 17:22:14,168] [ERROR] - Traceback (most recent call last):
  File "/app/app/db/mongo.py", line 13, in init_mongo
    await _client.server_info()
  File "/usr/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 2311, in server_info
    self.admin.command(
  File "/app/venv/lib/python3.12/site-packages/pymongo/_csot.py", line 125, in csot_wrapper
    return func(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/database.py", line 931, in command
    with self._client._conn_for_reads(read_preference, session, operation=command_name) as (
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1885, in _conn_for_reads
    server = self._select_server(read_preference, session, operation)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/mongo_client.py", line 1833, in _select_server
    server = topology.select_server(
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 409, in select_server
    server = self._select_server(
             ^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 387, in _select_server
    servers = self.select_servers(
              ^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 294, in select_servers
    server_descriptions = self._select_servers_loop(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/pymongo/synchronous/topology.py", line 344, in _select_servers_loop
    raise ServerSelectionTimeoutError(
pymongo.errors.ServerSelectionTimeoutError: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69209fc0b046a72c9ec12ce7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 677, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/main.py", line 13, in lifespan
    await init_mongo()
  File "/app/app/db/mongo.py", line 20, in init_mongo
    raise RuntimeError(f"Could not connect to MongoDB: {e}")
RuntimeError: Could not connect to MongoDB: localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms), Timeout: 5.0s, Topology Description: <TopologyDescription id: 69209fc0b046a72c9ec12ce7, topology_type: Unknown, servers: [<ServerDescription ('localhost', 27017) server_type: Unknown, rtt: None, error=AutoReconnect('localhost:27017: [Errno 111] Connection refused (configured timeouts: socketTimeoutMS: 20000.0ms, connectTimeoutMS: 20000.0ms)')>]>

[2025-11-21 17:22:14,876] [ERROR] - Application startup failed. Exiting.
[2025-11-21 17:25:21,642] [INFO] - Started server process [8]
[2025-11-21 17:25:21,642] [INFO] - Waiting for application startup.
[2025-11-21 17:25:21,643] [INFO] - Starting up lightkeeper-service...
[2025-11-21 17:25:21,692] [INFO] - Connected to MongoDB Successfully
[2025-11-21 17:25:21,692] [INFO] - Application startup complete.
[2025-11-21 17:25:40,079] [INFO] - 172.20.0.1:36798 - "GET / HTTP/1.1" 200
[2025-11-21 17:25:40,149] [INFO] - 172.20.0.1:36804 - "GET /favicon.ico HTTP/1.1" 404
[2025-11-21 17:25:44,407] [INFO] - 172.20.0.1:36798 - "GET /docs HTTP/1.1" 200
[2025-11-21 17:25:44,570] [INFO] - 172.20.0.1:36798 - "GET /openapi.json HTTP/1.1" 200
[2025-11-21 17:25:49,090] [INFO] - 172.20.0.1:36798 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 17:26:27,114] [INFO] - 172.20.0.1:46812 - "POST /pages/ HTTP/1.1" 200
[2025-11-21 17:26:31,633] [INFO] - 172.20.0.1:46812 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 17:26:39,332] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 17:27:05,379] [ERROR] - lighthouse command did not work, find details here -> Command '['lighthouse', 'https://chatgpt.com', '--output=json', '--output-path=/tmp/lighthouse-4d3fd0d0-da25-429f-b39c-766f6a98b461.json', '--quiet', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-21 17:27:06,048] [INFO] - 172.20.0.1:53346 - "POST /run HTTP/1.1" 500
[2025-11-21 17:27:06,048] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/app/app/services/audits.py", line 24, in run_audits
    raw = run_lighthouse(page)
          ^^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/lighthouse.py", line 44, in run_lighthouse
    os.remove(output_path)
FileNotFoundError: [Errno 2] No such file or directory: '/tmp/lighthouse-4d3fd0d0-da25-429f-b39c-766f6a98b461.json'
[2025-11-21 17:29:02,307] [INFO] - Shutting down
[2025-11-21 17:29:02,408] [INFO] - Waiting for application shutdown.
[2025-11-21 17:29:02,409] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 17:29:02,409] [INFO] - Application shutdown complete.
[2025-11-21 17:29:02,409] [INFO] - Finished server process [8]
[2025-11-21 17:32:39,400] [INFO] - Started server process [8]
[2025-11-21 17:32:39,401] [INFO] - Waiting for application startup.
[2025-11-21 17:32:39,402] [INFO] - Starting up lightkeeper-service...
[2025-11-21 17:32:39,414] [INFO] - Connected to MongoDB Successfully
[2025-11-21 17:32:39,415] [INFO] - Application startup complete.
[2025-11-21 17:32:44,783] [INFO] - 172.20.0.1:36134 - "GET /docs HTTP/1.1" 200
[2025-11-21 17:32:44,943] [INFO] - 172.20.0.1:36134 - "GET /openapi.json HTTP/1.1" 200
[2025-11-21 17:32:47,540] [INFO] - 172.20.0.1:36134 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 17:32:53,013] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 17:33:19,011] [ERROR] - lighthouse command did not work, find details here -> Command '['lighthouse', 'https://chatgpt.com', '--no-sandbox', '--disable-gpu', '--output=json', '--output-path=/tmp/lighthouse-68403df5-13cd-44c0-8864-a95bbac6eb2f.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-21 17:33:19,655] [INFO] - 172.20.0.1:50622 - "POST /run HTTP/1.1" 500
[2025-11-21 17:33:19,656] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/app/app/services/audits.py", line 24, in run_audits
    raw = run_lighthouse(page)
          ^^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/lighthouse.py", line 46, in run_lighthouse
    os.remove(output_path)
FileNotFoundError: [Errno 2] No such file or directory: '/tmp/lighthouse-68403df5-13cd-44c0-8864-a95bbac6eb2f.json'
[2025-11-21 17:33:39,094] [INFO] - Shutting down
[2025-11-21 17:33:39,195] [INFO] - Waiting for application shutdown.
[2025-11-21 17:33:39,195] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 17:33:39,195] [INFO] - Application shutdown complete.
[2025-11-21 17:33:39,195] [INFO] - Finished server process [8]
[2025-11-21 17:34:26,208] [INFO] - Started server process [8]
[2025-11-21 17:34:26,209] [INFO] - Waiting for application startup.
[2025-11-21 17:34:26,209] [INFO] - Starting up lightkeeper-service...
[2025-11-21 17:34:26,220] [INFO] - Connected to MongoDB Successfully
[2025-11-21 17:34:26,220] [INFO] - Application startup complete.
[2025-11-21 17:34:38,762] [INFO] - 172.20.0.1:56920 - "GET /docs HTTP/1.1" 200
[2025-11-21 17:34:38,951] [INFO] - 172.20.0.1:56920 - "GET /openapi.json HTTP/1.1" 200
[2025-11-21 17:34:44,302] [INFO] - 172.20.0.1:33306 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 17:34:51,100] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 17:35:17,130] [ERROR] - lighthouse command did not work, find details here -> Command '['lighthouse', 'https://chatgpt.com', '--no-sandbox', '--disable-gpu', '--output=json', '--output-path=/tmp/lighthouse-f1af5604-508d-4709-b68e-9f8171fdbd3a.json', '--quiet', '--chrome-flags=--headless', '--preset=desktop']' returned non-zero exit status 1.
[2025-11-21 17:35:17,458] [INFO] - 172.20.0.1:40236 - "POST /run HTTP/1.1" 500
[2025-11-21 17:35:17,458] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/api/routes.py", line 42, in run
    await run_audits(pages)
  File "/app/app/services/audits.py", line 24, in run_audits
    raw = run_lighthouse(page)
          ^^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/lighthouse.py", line 46, in run_lighthouse
    os.remove(output_path)
FileNotFoundError: [Errno 2] No such file or directory: '/tmp/lighthouse-f1af5604-508d-4709-b68e-9f8171fdbd3a.json'
[2025-11-21 17:48:53,936] [INFO] - Started server process [8]
[2025-11-21 17:48:53,936] [INFO] - Waiting for application startup.
[2025-11-21 17:48:53,937] [INFO] - Starting up lightkeeper-service...
[2025-11-21 17:48:53,950] [INFO] - Connected to MongoDB Successfully
[2025-11-21 17:48:53,950] [INFO] - Application startup complete.
[2025-11-21 17:49:33,033] [INFO] - 172.20.0.1:50066 - "GET / HTTP/1.1" 200
[2025-11-21 17:49:33,152] [INFO] - 172.20.0.1:50076 - "GET /favicon.ico HTTP/1.1" 404
[2025-11-21 17:49:37,177] [INFO] - 172.20.0.1:50066 - "GET /docs HTTP/1.1" 200
[2025-11-21 17:49:37,453] [INFO] - 172.20.0.1:50066 - "GET /openapi.json HTTP/1.1" 200
[2025-11-21 17:49:42,994] [INFO] - 172.20.0.1:38422 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 17:49:54,832] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 17:50:24,770] [INFO] - saved audit for https://chatgpt.com/
[2025-11-21 17:50:24,771] [INFO] - 172.20.0.1:33524 - "POST /run HTTP/1.1" 200
[2025-11-21 17:50:35,494] [INFO] - 172.20.0.1:54332 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 17:50:46,737] [INFO] - 172.20.0.1:35212 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 17:50:53,272] [INFO] - 172.20.0.1:53524 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 17:52:00,276] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 17:52:27,419] [INFO] - saved audit for https://chatgpt.com/
[2025-11-21 17:52:27,421] [INFO] - 172.20.0.1:49040 - "POST /run HTTP/1.1" 200
[2025-11-21 17:52:46,276] [INFO] - 172.20.0.1:41410 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 17:52:58,117] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 17:53:27,546] [INFO] - saved audit for https://chatgpt.com/
[2025-11-21 17:53:27,548] [INFO] - 172.20.0.1:34460 - "POST /run HTTP/1.1" 200
[2025-11-21 17:53:32,702] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 17:54:02,425] [INFO] - saved audit for https://chatgpt.com/
[2025-11-21 17:54:02,428] [INFO] - 172.20.0.1:48734 - "POST /run HTTP/1.1" 200
[2025-11-21 17:55:10,235] [INFO] - 172.20.0.1:34246 - "GET / HTTP/1.1" 200
[2025-11-21 18:14:21,046] [INFO] - Shutting down
[2025-11-21 18:14:21,147] [INFO] - Waiting for application shutdown.
[2025-11-21 18:14:21,147] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:14:21,148] [INFO] - Application shutdown complete.
[2025-11-21 18:14:21,148] [INFO] - Finished server process [8]
[2025-11-21 18:14:22,358] [INFO] - Started server process [815]
[2025-11-21 18:14:22,358] [INFO] - Waiting for application startup.
[2025-11-21 18:14:22,358] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:14:22,376] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:14:22,377] [INFO] - Application startup complete.
[2025-11-21 18:14:29,620] [INFO] - Shutting down
[2025-11-21 18:14:29,721] [INFO] - Waiting for application shutdown.
[2025-11-21 18:14:29,721] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:14:29,722] [INFO] - Application shutdown complete.
[2025-11-21 18:14:29,722] [INFO] - Finished server process [815]
[2025-11-21 18:14:48,905] [INFO] - Started server process [8]
[2025-11-21 18:14:48,905] [INFO] - Waiting for application startup.
[2025-11-21 18:14:48,905] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:14:48,921] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:14:48,921] [INFO] - Application startup complete.
[2025-11-21 18:14:51,279] [INFO] - 172.20.0.1:41150 - "GET /docs HTTP/1.1" 200
[2025-11-21 18:14:51,530] [INFO] - 172.20.0.1:41150 - "GET /openapi.json HTTP/1.1" 200
[2025-11-21 18:14:57,421] [INFO] - 172.20.0.1:41158 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 18:15:06,922] [INFO] - 172.20.0.1:39340 - "POST /run?id=sgsg HTTP/1.1" 404
[2025-11-21 18:15:11,393] [INFO] - 172.20.0.1:39340 - "POST /run?id=6920a0c38fef98d59d3e2f5f HTTP/1.1" 404
[2025-11-21 18:15:12,659] [INFO] - 172.20.0.1:39340 - "POST /run?id=6920a0c38fef98d59d3e2f5f HTTP/1.1" 404
[2025-11-21 18:15:37,399] [INFO] - Shutting down
[2025-11-21 18:15:37,500] [INFO] - Waiting for application shutdown.
[2025-11-21 18:15:37,500] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:15:37,501] [INFO] - Application shutdown complete.
[2025-11-21 18:15:37,501] [INFO] - Finished server process [8]
[2025-11-21 18:15:38,676] [INFO] - Started server process [14]
[2025-11-21 18:15:38,676] [INFO] - Waiting for application startup.
[2025-11-21 18:15:38,677] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:15:38,689] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:15:38,690] [INFO] - Application startup complete.
[2025-11-21 18:15:45,928] [INFO] - Shutting down
[2025-11-21 18:15:46,029] [INFO] - Waiting for application shutdown.
[2025-11-21 18:15:46,029] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:15:46,029] [INFO] - Application shutdown complete.
[2025-11-21 18:15:46,030] [INFO] - Finished server process [14]
[2025-11-21 18:16:02,321] [INFO] - Started server process [8]
[2025-11-21 18:16:02,321] [INFO] - Waiting for application startup.
[2025-11-21 18:16:02,322] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:16:02,333] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:16:02,334] [INFO] - Application startup complete.
[2025-11-21 18:16:03,584] [INFO] - 172.20.0.1:59970 - "GET /docs HTTP/1.1" 200
[2025-11-21 18:16:03,826] [INFO] - 172.20.0.1:59970 - "GET /openapi.json HTTP/1.1" 200
[2025-11-21 18:16:09,999] [INFO] - 172.20.0.1:35104 - "POST /run?id=6920a0c38fef98d59d3e2f5f HTTP/1.1" 404
[2025-11-21 18:20:36,216] [INFO] - Shutting down
[2025-11-21 18:20:36,317] [INFO] - Waiting for application shutdown.
[2025-11-21 18:20:36,318] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:20:36,318] [INFO] - Application shutdown complete.
[2025-11-21 18:20:36,318] [INFO] - Finished server process [8]
[2025-11-21 18:28:54,399] [INFO] - Started server process [8]
[2025-11-21 18:28:54,399] [INFO] - Waiting for application startup.
[2025-11-21 18:28:54,399] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:28:54,415] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:28:54,415] [INFO] - Application startup complete.
[2025-11-21 18:29:00,328] [INFO] - 172.20.0.1:33122 - "GET /docs HTTP/1.1" 200
[2025-11-21 18:29:00,575] [INFO] - 172.20.0.1:33122 - "GET /openapi.json HTTP/1.1" 200
[2025-11-21 18:29:12,794] [INFO] - 172.20.0.1:59038 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 18:29:28,922] [INFO] - 172.20.0.1:54154 - "POST /run/gheghe HTTP/1.1" 400
[2025-11-21 18:29:33,663] [INFO] - 172.20.0.1:54154 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 500
[2025-11-21 18:29:33,664] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2025-11-21 18:30:01,293] [INFO] - 172.20.0.1:47334 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 500
[2025-11-21 18:30:01,293] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'coroutine' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2025-11-21 18:30:57,931] [INFO] - Shutting down
[2025-11-21 18:30:58,032] [INFO] - Waiting for application shutdown.
[2025-11-21 18:30:58,032] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:30:58,032] [INFO] - Application shutdown complete.
[2025-11-21 18:30:58,033] [INFO] - Finished server process [8]
[2025-11-21 18:30:59,379] [INFO] - Started server process [14]
[2025-11-21 18:30:59,380] [INFO] - Waiting for application startup.
[2025-11-21 18:30:59,380] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:30:59,396] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:30:59,396] [INFO] - Application startup complete.
[2025-11-21 18:32:28,230] [INFO] - Shutting down
[2025-11-21 18:32:28,331] [INFO] - Waiting for application shutdown.
[2025-11-21 18:32:28,331] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:32:28,332] [INFO] - Application shutdown complete.
[2025-11-21 18:32:28,332] [INFO] - Finished server process [14]
[2025-11-21 18:32:29,583] [INFO] - Started server process [19]
[2025-11-21 18:32:29,583] [INFO] - Waiting for application startup.
[2025-11-21 18:32:29,584] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:32:29,599] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:32:29,599] [INFO] - Application startup complete.
[2025-11-21 18:32:32,215] [INFO] - Shutting down
[2025-11-21 18:32:32,316] [INFO] - Waiting for application shutdown.
[2025-11-21 18:32:32,316] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:32:32,316] [INFO] - Application shutdown complete.
[2025-11-21 18:32:32,316] [INFO] - Finished server process [19]
[2025-11-21 18:32:50,032] [INFO] - Started server process [8]
[2025-11-21 18:32:50,033] [INFO] - Waiting for application startup.
[2025-11-21 18:32:50,034] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:32:50,068] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:32:50,068] [INFO] - Application startup complete.
[2025-11-21 18:32:52,018] [INFO] - 172.20.0.1:58714 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 500
[2025-11-21 18:32:52,019] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/api/routes.py", line 53, in run_once
    result = await run_audit(id)
             ^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/audits.py", line 38, in run_audit
    page_score = run_lighthouse(page)
                 ^^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/lighthouse.py", line 13, in run_lighthouse
    logger.info(f"lighthouse running for {page.url} with {page.device}")
                                          ^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'url'
[2025-11-21 18:33:11,970] [INFO] - Shutting down
[2025-11-21 18:33:12,071] [INFO] - Waiting for application shutdown.
[2025-11-21 18:33:12,071] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:33:12,071] [INFO] - Application shutdown complete.
[2025-11-21 18:33:12,072] [INFO] - Finished server process [8]
[2025-11-21 18:35:24,188] [INFO] - Started server process [8]
[2025-11-21 18:35:24,189] [INFO] - Waiting for application startup.
[2025-11-21 18:35:24,189] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:35:24,204] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:35:24,204] [INFO] - Application startup complete.
[2025-11-21 18:35:26,983] [INFO] - 172.20.0.1:42088 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 500
[2025-11-21 18:35:26,983] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/api/routes.py", line 53, in run_once
    result = await run_audit(id)
             ^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/audits.py", line 38, in run_audit
    page_score = run_lighthouse(page)
                 ^^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/lighthouse.py", line 13, in run_lighthouse
    logger.info(f"lighthouse running for {page.url} with {page.device}")
                                          ^^^^^^^^
AttributeError: 'dict' object has no attribute 'url'
[2025-11-21 18:37:07,853] [INFO] - Shutting down
[2025-11-21 18:37:07,955] [INFO] - Waiting for application shutdown.
[2025-11-21 18:37:07,955] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:37:07,956] [INFO] - Application shutdown complete.
[2025-11-21 18:37:07,956] [INFO] - Finished server process [8]
[2025-11-21 18:37:09,071] [INFO] - Started server process [14]
[2025-11-21 18:37:09,072] [INFO] - Waiting for application startup.
[2025-11-21 18:37:09,072] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:37:09,088] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:37:09,089] [INFO] - Application startup complete.
[2025-11-21 18:37:12,476] [INFO] - check here -> {'_id': ObjectId('6920a0c38fef98d59d3e2f5f'), 'created_at': datetime.datetime(2025, 11, 21, 17, 26, 27, 89000), 'isEnabled': True, 'url': 'https://chatgpt.com', 'name': 'test', 'env': 'test', 'device': 'desktop', 'benchmarkScore': 0, 'thresholdPercentage': 0, 'auth': 'string'}
[2025-11-21 18:37:12,477] [INFO] - 172.20.0.1:50908 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 500
[2025-11-21 18:37:12,477] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 274, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 191, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/api/routes.py", line 53, in run_once
    result = await run_audit(id)
             ^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/audits.py", line 39, in run_audit
    page_score = run_lighthouse(page)
                 ^^^^^^^^^^^^^^^^^^^^
  File "/app/app/services/lighthouse.py", line 13, in run_lighthouse
    logger.info(f"lighthouse running for {page.url} with {page.device}")
                                          ^^^^^^^^
AttributeError: 'dict' object has no attribute 'url'
[2025-11-21 18:38:44,260] [INFO] - Shutting down
[2025-11-21 18:38:44,361] [INFO] - Waiting for application shutdown.
[2025-11-21 18:38:44,362] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:38:44,362] [INFO] - Application shutdown complete.
[2025-11-21 18:38:44,362] [INFO] - Finished server process [14]
[2025-11-21 18:38:45,634] [INFO] - Started server process [19]
[2025-11-21 18:38:45,635] [INFO] - Waiting for application startup.
[2025-11-21 18:38:45,635] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:38:45,656] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:38:45,656] [INFO] - Application startup complete.
[2025-11-21 18:38:50,153] [INFO] - check here -> id=ObjectId('6920a0c38fef98d59d3e2f5f') created_at=datetime.datetime(2025, 11, 21, 17, 26, 27, 89000) isEnabled=True url='https://chatgpt.com' name='test' env='test' device=<DeviceType.desktop: 'desktop'> benchmarkScore=0 thresholdPercentage=0 auth='string'
[2025-11-21 18:38:50,153] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 18:39:19,579] [INFO] - Shutting down
[2025-11-21 18:39:19,594] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 18:39:19,595] [INFO] - 172.20.0.1:44698 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 500
[2025-11-21 18:39:19,595] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2025-11-21 18:39:20,291] [INFO] - Waiting for application shutdown.
[2025-11-21 18:39:20,292] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:39:20,292] [INFO] - Application shutdown complete.
[2025-11-21 18:39:20,292] [INFO] - Finished server process [19]
[2025-11-21 18:39:21,782] [INFO] - Started server process [222]
[2025-11-21 18:39:21,783] [INFO] - Waiting for application startup.
[2025-11-21 18:39:21,783] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:39:21,807] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:39:21,807] [INFO] - Application startup complete.
[2025-11-21 18:43:18,597] [INFO] - Shutting down
[2025-11-21 18:43:18,699] [INFO] - Waiting for application shutdown.
[2025-11-21 18:43:18,699] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:43:18,700] [INFO] - Application shutdown complete.
[2025-11-21 18:43:18,700] [INFO] - Finished server process [222]
[2025-11-21 18:43:19,779] [INFO] - Started server process [227]
[2025-11-21 18:43:19,780] [INFO] - Waiting for application startup.
[2025-11-21 18:43:19,780] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:43:19,794] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:43:19,794] [INFO] - Application startup complete.
[2025-11-21 18:43:24,183] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 18:43:52,628] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 18:43:52,629] [INFO] - 172.20.0.1:53548 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 500
[2025-11-21 18:43:52,629] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2025-11-21 18:44:18,744] [INFO] - Shutting down
[2025-11-21 18:44:18,845] [INFO] - Waiting for application shutdown.
[2025-11-21 18:44:18,846] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:44:18,846] [INFO] - Application shutdown complete.
[2025-11-21 18:44:18,846] [INFO] - Finished server process [227]
[2025-11-21 18:44:20,240] [INFO] - Started server process [433]
[2025-11-21 18:44:20,241] [INFO] - Waiting for application startup.
[2025-11-21 18:44:20,241] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:44:20,259] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:44:20,259] [INFO] - Application startup complete.
[2025-11-21 18:44:24,195] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 18:44:52,020] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 18:44:52,021] [INFO] - {'_id': ObjectId('6920b324532c6f67c8f9705a'), 'page_id': ObjectId('6920a0c38fef98d59d3e2f5f'), 'created_at': datetime.datetime(2025, 11, 21, 18, 44, 52, 16859), 'url': 'https://chatgpt.com/', 'device': <DeviceType.desktop: 'desktop'>, 'psi_score': 47, 'seo_score': 92, 'metrics': {'first_contentful_paint': 2276, 'speed_index': 3349, 'largest_contentful_paint': 4979, 'time_to_interactive': 4979, 'total_blocking_time': 323, 'cumulative_layout_shift': 0}}
[2025-11-21 18:44:52,022] [INFO] - 172.20.0.1:35730 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 500
[2025-11-21 18:44:52,022] [ERROR] - Exception in ASGI application
Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 322, in jsonable_encoder
    data = dict(obj)
           ^^^^^^^^^
TypeError: 'ObjectId' object is not iterable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 327, in jsonable_encoder
    data = vars(obj)
           ^^^^^^^^^
TypeError: vars() argument must have __dict__ attribute

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/venv/lib/python3.12/site-packages/uvicorn/protocols/http/httptools_impl.py", line 426, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/applications.py", line 1106, in __call__
    await super().__call__(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/applications.py", line 122, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 184, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 162, in __call__
    await self.app(scope, receive, _send)
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 79, in __call__
    raise exc
  File "/app/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 68, in __call__
    await self.app(scope, receive, sender)
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 20, in __call__
    raise e
  File "/app/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 17, in __call__
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 718, in __call__
    await route.handle(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 276, in handle
    await self.app(scope, receive, send)
  File "/app/venv/lib/python3.12/site-packages/starlette/routing.py", line 66, in app
    response = await func(request)
               ^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 292, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/routing.py", line 180, in serialize_response
    return jsonable_encoder(response_content)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 287, in jsonable_encoder
    encoded_value = jsonable_encoder(
                    ^^^^^^^^^^^^^^^^^
  File "/app/venv/lib/python3.12/site-packages/fastapi/encoders.py", line 330, in jsonable_encoder
    raise ValueError(errors) from e
ValueError: [TypeError("'ObjectId' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]
[2025-11-21 18:46:19,807] [INFO] - Shutting down
[2025-11-21 18:46:19,909] [INFO] - Waiting for application shutdown.
[2025-11-21 18:46:19,909] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:46:19,910] [INFO] - Application shutdown complete.
[2025-11-21 18:46:19,910] [INFO] - Finished server process [433]
[2025-11-21 18:46:21,218] [INFO] - Started server process [635]
[2025-11-21 18:46:21,219] [INFO] - Waiting for application startup.
[2025-11-21 18:46:21,219] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:46:21,238] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:46:21,238] [INFO] - Application startup complete.
[2025-11-21 18:46:26,797] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 18:46:55,436] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 18:46:55,437] [INFO] - 172.20.0.1:49852 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 18:47:36,879] [INFO] - 172.20.0.1:45236 - "GET /openapi.json HTTP/1.1" 200
[2025-11-21 18:47:36,947] [INFO] - 172.20.0.1:45244 - "GET /favicon.ico HTTP/1.1" 404
[2025-11-21 18:53:20,356] [INFO] - Shutting down
[2025-11-21 18:53:20,458] [INFO] - Waiting for application shutdown.
[2025-11-21 18:53:20,458] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 18:53:20,459] [INFO] - Application shutdown complete.
[2025-11-21 18:53:20,459] [INFO] - Finished server process [635]
[2025-11-21 18:53:22,053] [INFO] - Started server process [836]
[2025-11-21 18:53:22,054] [INFO] - Waiting for application startup.
[2025-11-21 18:53:22,054] [INFO] - Starting up lightkeeper-service...
[2025-11-21 18:53:22,072] [INFO] - Connected to MongoDB Successfully
[2025-11-21 18:53:22,072] [INFO] - Application startup complete.
[2025-11-21 18:59:04,723] [INFO] - 172.20.0.1:46252 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 18:59:05,742] [INFO] - 172.20.0.1:46252 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 18:59:07,758] [INFO] - 172.20.0.1:46252 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 18:59:11,249] [INFO] - 172.20.0.1:46252 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 18:59:12,265] [INFO] - 172.20.0.1:46252 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 18:59:14,425] [INFO] - 172.20.0.1:46252 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 18:59:18,441] [INFO] - 172.20.0.1:46252 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:01:04,693] [INFO] - Shutting down
[2025-11-21 19:01:04,794] [INFO] - Waiting for application shutdown.
[2025-11-21 19:01:04,795] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 19:01:04,795] [INFO] - Application shutdown complete.
[2025-11-21 19:01:04,795] [INFO] - Finished server process [836]
[2025-11-21 19:01:06,170] [INFO] - Started server process [841]
[2025-11-21 19:01:06,171] [INFO] - Waiting for application startup.
[2025-11-21 19:01:06,171] [INFO] - Starting up lightkeeper-service...
[2025-11-21 19:01:06,187] [INFO] - Connected to MongoDB Successfully
[2025-11-21 19:01:06,187] [INFO] - Application startup complete.
[2025-11-21 19:01:15,637] [INFO] - Shutting down
[2025-11-21 19:01:15,738] [INFO] - Waiting for application shutdown.
[2025-11-21 19:01:15,739] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 19:01:15,739] [INFO] - Application shutdown complete.
[2025-11-21 19:01:15,739] [INFO] - Finished server process [841]
[2025-11-21 19:01:17,226] [INFO] - Started server process [846]
[2025-11-21 19:01:17,226] [INFO] - Waiting for application startup.
[2025-11-21 19:01:17,226] [INFO] - Starting up lightkeeper-service...
[2025-11-21 19:01:17,242] [INFO] - Connected to MongoDB Successfully
[2025-11-21 19:01:17,242] [INFO] - Application startup complete.
[2025-11-21 19:01:23,042] [INFO] - 172.20.0.1:51654 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:01:30,918] [INFO] - 172.20.0.1:44254 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:01:32,629] [INFO] - 172.20.0.1:44254 - "OPTIONS /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:01:32,638] [INFO] - 172.20.0.1:44254 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:01:32,653] [INFO] - 172.20.0.1:44254 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:01:33,694] [INFO] - 172.20.0.1:44254 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:01:33,711] [INFO] - 172.20.0.1:44254 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:01:39,135] [INFO] - 172.20.0.1:44266 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:01:39,159] [INFO] - 172.20.0.1:44266 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:01:40,723] [INFO] - 172.20.0.1:44266 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:01:40,744] [INFO] - 172.20.0.1:44266 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:02:08,735] [INFO] - 172.20.0.1:54642 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:02:08,752] [INFO] - 172.20.0.1:54642 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:02:18,463] [INFO] - 172.20.0.1:33586 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:02:18,469] [INFO] - 172.20.0.1:33588 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:02:51,761] [INFO] - 172.20.0.1:53392 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:02:57,363] [INFO] - 172.20.0.1:53398 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:02:57,402] [INFO] - 172.20.0.1:53398 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:02:58,253] [INFO] - 172.20.0.1:53398 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:02:58,271] [INFO] - 172.20.0.1:53398 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:03:15,147] [INFO] - 172.20.0.1:50718 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:03:33,425] [INFO] - 172.20.0.1:35158 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:03:45,083] [INFO] - 172.20.0.1:60174 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:03:45,100] [INFO] - 172.20.0.1:60174 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:03:55,258] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 19:04:22,473] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 19:04:22,475] [INFO] - 172.20.0.1:47010 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:04:31,006] [INFO] - 172.20.0.1:45550 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:04:31,009] [INFO] - 172.20.0.1:45554 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:04:44,717] [INFO] - 172.20.0.1:36278 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:04:48,356] [INFO] - 172.20.0.1:36278 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:04:48,358] [INFO] - 172.20.0.1:36284 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:04:49,760] [INFO] - 172.20.0.1:36284 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:05:44,417] [INFO] - 172.20.0.1:48888 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:05:53,156] [INFO] - 172.20.0.1:40834 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:05:56,888] [INFO] - 172.20.0.1:40834 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:06:16,305] [INFO] - 172.20.0.1:46190 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:08:54,773] [INFO] - 172.20.0.1:50652 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:09:20,111] [INFO] - 172.20.0.1:42008 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:09:22,323] [INFO] - 172.20.0.1:42008 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:09:35,964] [INFO] - 172.20.0.1:57344 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:09:35,999] [INFO] - 172.20.0.1:57344 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:09:36,882] [INFO] - 172.20.0.1:57344 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:09:36,897] [INFO] - 172.20.0.1:57344 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:10:17,116] [INFO] - 172.20.0.1:41010 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:10:17,118] [INFO] - 172.20.0.1:41024 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:11:11,238] [INFO] - 172.20.0.1:34490 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:11:14,409] [INFO] - 172.20.0.1:34490 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:11:14,411] [INFO] - 172.20.0.1:34496 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:11:34,132] [INFO] - 172.20.0.1:58022 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:11:43,440] [INFO] - 172.20.0.1:57376 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:11:43,442] [INFO] - 172.20.0.1:57380 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:11:44,999] [INFO] - 172.20.0.1:57380 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:12:04,242] [INFO] - 172.20.0.1:47380 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:12:04,245] [INFO] - 172.20.0.1:47392 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:12:07,216] [INFO] - 172.20.0.1:47392 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:12:08,740] [INFO] - 172.20.0.1:47392 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:12:08,742] [INFO] - 172.20.0.1:47380 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:12:12,536] [INFO] - 172.20.0.1:47392 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:12:39,421] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 19:13:05,724] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 19:13:05,725] [INFO] - 172.20.0.1:44190 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:13:29,927] [INFO] - 172.20.0.1:49634 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:13:29,930] [INFO] - 172.20.0.1:49638 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:13:32,493] [INFO] - 172.20.0.1:49638 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:13:45,403] [INFO] - 172.20.0.1:57316 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:14:46,277] [INFO] - 172.20.0.1:34438 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:14:47,475] [INFO] - 172.20.0.1:34438 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:14:47,483] [INFO] - 172.20.0.1:34438 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:00,938] [INFO] - 172.20.0.1:52848 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:00,943] [INFO] - 172.20.0.1:52850 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:10,740] [INFO] - 172.20.0.1:42212 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:10,743] [INFO] - 172.20.0.1:42214 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:24,876] [INFO] - 172.20.0.1:56060 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:24,878] [INFO] - 172.20.0.1:56076 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:34,292] [INFO] - 172.20.0.1:49862 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:34,294] [INFO] - 172.20.0.1:49864 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:48,420] [INFO] - 172.20.0.1:39336 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:15:48,422] [INFO] - 172.20.0.1:39348 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:16:11,344] [INFO] - 172.20.0.1:54118 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:16:11,346] [INFO] - 172.20.0.1:54130 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:16:13,062] [INFO] - 172.20.0.1:54130 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:16:48,890] [INFO] - 172.20.0.1:44674 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:16:58,931] [INFO] - 172.20.0.1:39440 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:17:15,149] [INFO] - 172.20.0.1:56082 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:17:45,006] [INFO] - 172.20.0.1:47380 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:17:47,396] [INFO] - 172.20.0.1:47380 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:17:50,515] [INFO] - 172.20.0.1:47380 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:18:20,774] [INFO] - 172.20.0.1:39412 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:19:19,826] [INFO] - 172.20.0.1:44068 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:19:39,272] [INFO] - 172.20.0.1:49640 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:19:41,451] [INFO] - 172.20.0.1:49640 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:20:01,035] [INFO] - 172.20.0.1:34050 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:20:01,037] [INFO] - 172.20.0.1:34060 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:20:48,345] [INFO] - 172.20.0.1:35070 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:20:48,347] [INFO] - 172.20.0.1:35078 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:20:53,220] [INFO] - 172.20.0.1:35078 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:21:08,797] [INFO] - 172.20.0.1:36794 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:21:18,182] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 19:21:45,533] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 19:21:45,534] [INFO] - 172.20.0.1:38558 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:21:59,118] [INFO] - 172.20.0.1:47160 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:21:59,119] [INFO] - 172.20.0.1:47168 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:22:26,109] [INFO] - 172.20.0.1:44210 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:22:26,111] [INFO] - 172.20.0.1:44218 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:22:31,329] [INFO] - 172.20.0.1:37790 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:22:40,222] [INFO] - 172.20.0.1:59066 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:22:48,221] [INFO] - 172.20.0.1:59082 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:22:50,597] [INFO] - 172.20.0.1:59082 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:24:21,075] [INFO] - 172.20.0.1:44754 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:24:42,817] [INFO] - 172.20.0.1:58114 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:24:45,331] [INFO] - 172.20.0.1:58114 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:04,760] [INFO] - 172.20.0.1:50394 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:06,816] [INFO] - 172.20.0.1:50394 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:25,391] [INFO] - 172.20.0.1:36090 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:25,393] [INFO] - 172.20.0.1:36106 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:26,992] [INFO] - 172.20.0.1:36106 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:29,208] [INFO] - 172.20.0.1:36106 - "OPTIONS /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:29,215] [INFO] - 172.20.0.1:36106 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:29,229] [INFO] - 172.20.0.1:36106 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:29,901] [INFO] - 172.20.0.1:36106 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:29,918] [INFO] - 172.20.0.1:36106 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:37,383] [INFO] - 172.20.0.1:52246 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:50,171] [INFO] - 172.20.0.1:39780 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:50,189] [INFO] - 172.20.0.1:39780 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:53,525] [INFO] - 172.20.0.1:39780 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:53,532] [INFO] - 172.20.0.1:39784 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:55,736] [INFO] - 172.20.0.1:39784 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:25:59,862] [INFO] - 172.20.0.1:39784 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:25:59,880] [INFO] - 172.20.0.1:39784 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:26:18,998] [INFO] - 172.20.0.1:57838 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:26:19,018] [INFO] - 172.20.0.1:57838 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:26:23,454] [INFO] - 172.20.0.1:57838 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:26:23,469] [INFO] - 172.20.0.1:57838 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:26:28,318] [INFO] - 172.20.0.1:57838 - "PUT /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:26:28,339] [INFO] - 172.20.0.1:57838 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:27:09,700] [INFO] - 172.20.0.1:44318 - "OPTIONS /pages/ HTTP/1.1" 200
[2025-11-21 19:27:09,712] [INFO] - 172.20.0.1:44318 - "POST /pages/ HTTP/1.1" 200
[2025-11-21 19:27:09,740] [INFO] - 172.20.0.1:44318 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:27:25,974] [INFO] - 172.20.0.1:47638 - "GET /pages/6920bd0d4b9f433a23a34f2b HTTP/1.1" 200
[2025-11-21 19:27:25,975] [INFO] - 172.20.0.1:47644 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 404
[2025-11-21 19:27:26,994] [INFO] - 172.20.0.1:47638 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 404
[2025-11-21 19:27:29,010] [INFO] - 172.20.0.1:47638 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 404
[2025-11-21 19:27:33,025] [INFO] - 172.20.0.1:47638 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 404
[2025-11-21 19:27:36,305] [INFO] - 172.20.0.1:47638 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:27:38,141] [INFO] - 172.20.0.1:47638 - "GET /pages/6920bd0d4b9f433a23a34f2b HTTP/1.1" 200
[2025-11-21 19:27:38,142] [INFO] - 172.20.0.1:42262 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 404
[2025-11-21 19:27:39,160] [INFO] - 172.20.0.1:47638 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 404
[2025-11-21 19:27:41,172] [INFO] - 172.20.0.1:47638 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 404
[2025-11-21 19:27:45,197] [INFO] - 172.20.0.1:47638 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 404
[2025-11-21 19:27:55,118] [INFO] - 172.20.0.1:38364 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:27:56,975] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-21 19:28:25,583] [INFO] - saved audit for https://chatgpt.com/
[2025-11-21 19:28:25,584] [INFO] - 172.20.0.1:38364 - "POST /run/6920bd0d4b9f433a23a34f2b HTTP/1.1" 200
[2025-11-21 19:28:32,166] [INFO] - 172.20.0.1:46734 - "GET /pages/6920bd0d4b9f433a23a34f2b HTTP/1.1" 200
[2025-11-21 19:28:32,167] [INFO] - 172.20.0.1:46740 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 200
[2025-11-21 19:28:44,592] [INFO] - 172.20.0.1:32890 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:28:46,701] [INFO] - 172.20.0.1:32890 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:28:46,707] [INFO] - 172.20.0.1:32896 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:29:10,168] [INFO] - 172.20.0.1:39142 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:30:30,408] [INFO] - 172.20.0.1:45278 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:30:50,382] [INFO] - 172.20.0.1:44570 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:31:43,761] [INFO] - 172.20.0.1:43454 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:35:21,955] [INFO] - 172.20.0.1:60526 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:35:22,787] [INFO] - 172.20.0.1:60526 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:35:24,803] [INFO] - 172.20.0.1:60526 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:35:28,665] [INFO] - lighthouse running for https://chatgpt.com/ with DeviceType.mobile
[2025-11-21 19:35:56,713] [INFO] - saved audit for https://chatgpt.com/
[2025-11-21 19:35:56,713] [INFO] - 172.20.0.1:60526 - "POST /run/6920bd0d4b9f433a23a34f2b HTTP/1.1" 200
[2025-11-21 19:36:01,075] [INFO] - 172.20.0.1:60526 - "GET /pages/6920bd0d4b9f433a23a34f2b HTTP/1.1" 200
[2025-11-21 19:36:01,077] [INFO] - 172.20.0.1:42606 - "GET /audits/6920bd0d4b9f433a23a34f2b HTTP/1.1" 200
[2025-11-21 19:36:16,392] [INFO] - 172.20.0.1:55998 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:36:17,653] [INFO] - 172.20.0.1:55998 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:36:17,654] [INFO] - 172.20.0.1:56010 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:36:35,177] [INFO] - 172.20.0.1:58754 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:37:18,240] [INFO] - 172.20.0.1:57620 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:37:23,330] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 19:37:53,159] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 19:37:53,160] [INFO] - 172.20.0.1:45864 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:37:53,161] [INFO] - 172.20.0.1:45870 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:37:54,003] [INFO] - 172.20.0.1:45870 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:37:56,144] [INFO] - 172.20.0.1:45870 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:37:56,146] [INFO] - 172.20.0.1:45864 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:13,891] [INFO] - 172.20.0.1:36546 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:13,892] [INFO] - 172.20.0.1:36556 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:16,459] [INFO] - 172.20.0.1:36556 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:16,462] [INFO] - 172.20.0.1:36546 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:21,207] [INFO] - 172.20.0.1:36556 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:21,209] [INFO] - 172.20.0.1:36546 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:29,560] [INFO] - 172.20.0.1:56244 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:29,562] [INFO] - 172.20.0.1:56254 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:38,098] [INFO] - 172.20.0.1:34510 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:38,100] [INFO] - 172.20.0.1:34514 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:47,619] [INFO] - 172.20.0.1:37050 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:47,622] [INFO] - 172.20.0.1:37062 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:50,521] [INFO] - 172.20.0.1:37062 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:38:50,523] [INFO] - 172.20.0.1:37050 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:39:46,772] [INFO] - 172.20.0.1:38528 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:40:07,513] [INFO] - 172.20.0.1:52126 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:40:18,920] [INFO] - 172.20.0.1:43576 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:40:22,029] [INFO] - 172.20.0.1:43576 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:40:29,991] [INFO] - 172.20.0.1:54836 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:41:07,158] [INFO] - Shutting down
[2025-11-21 19:41:07,259] [INFO] - Waiting for application shutdown.
[2025-11-21 19:41:07,260] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 19:41:07,260] [INFO] - Application shutdown complete.
[2025-11-21 19:41:07,260] [INFO] - Finished server process [846]
[2025-11-21 19:54:56,290] [INFO] - Started server process [8]
[2025-11-21 19:54:56,291] [INFO] - Waiting for application startup.
[2025-11-21 19:54:56,291] [INFO] - Starting up lightkeeper-service...
[2025-11-21 19:54:56,319] [INFO] - Connected to MongoDB Successfully
[2025-11-21 19:54:56,321] [INFO] - Application startup complete.
[2025-11-21 19:55:06,470] [INFO] - 172.20.0.1:37242 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:55:11,138] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 19:55:38,928] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 19:55:38,929] [INFO] - 172.20.0.1:37242 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:55:53,492] [INFO] - 172.20.0.1:36108 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:55:53,499] [INFO] - 172.20.0.1:36110 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 19:56:07,099] [INFO] - 172.20.0.1:57424 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 19:56:22,785] [INFO] - Shutting down
[2025-11-21 19:56:22,886] [INFO] - Waiting for application shutdown.
[2025-11-21 19:56:22,886] [INFO] - Shutting down lightkeeper-service...
[2025-11-21 19:56:22,887] [INFO] - Application shutdown complete.
[2025-11-21 19:56:22,887] [INFO] - Finished server process [8]
[2025-11-21 20:11:43,942] [INFO] - Started server process [9]
[2025-11-21 20:11:43,942] [INFO] - Started server process [8]
[2025-11-21 20:11:43,942] [INFO] - Waiting for application startup.
[2025-11-21 20:11:43,942] [INFO] - Waiting for application startup.
[2025-11-21 20:11:43,943] [INFO] - Starting up lightkeeper-service...
[2025-11-21 20:11:43,943] [INFO] - Starting up lightkeeper-service...
[2025-11-21 20:11:44,467] [INFO] - Connected to MongoDB Successfully
[2025-11-21 20:11:44,467] [INFO] - Application startup complete.
[2025-11-21 20:11:44,468] [INFO] - Connected to MongoDB Successfully
[2025-11-21 20:11:44,468] [INFO] - Application startup complete.
[2025-11-21 20:11:56,787] [INFO] - 172.20.0.1:42790 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 20:12:29,937] [INFO] - lighthouse running for https://chatgpt.com with DeviceType.desktop
[2025-11-21 20:12:49,123] [INFO] - 172.20.0.1:37742 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 20:12:58,363] [INFO] - saved audit for https://chatgpt.com
[2025-11-21 20:12:58,364] [INFO] - 172.20.0.1:56496 - "POST /run/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 20:13:04,416] [INFO] - 172.20.0.1:36928 - "GET /pages/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 20:13:04,417] [INFO] - 172.20.0.1:36934 - "GET /audits/6920a0c38fef98d59d3e2f5f HTTP/1.1" 200
[2025-11-21 20:13:15,050] [INFO] - 172.20.0.1:48770 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 20:13:29,418] [INFO] - 172.20.0.1:39818 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 20:13:39,274] [INFO] - 172.20.0.1:49280 - "GET /pages/ HTTP/1.1" 200
[2025-11-21 20:13:41,489] [INFO] - 172.20.0.1:49280 - "GET /pages/ HTTP/1.1" 200
